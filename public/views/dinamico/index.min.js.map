{"version":3,"sources":["index.js"],"names":["generarImagen","file","index","filesSelected","files","length","fileToLoad","name","match","size","fileReader","FileReader","onload","fileLoadedEvent","newImage","document","createElement","srcData","target","result","src","style","height","width","getElementById","innerHTML","outerHTML","readAsDataURL","alert","limpiarCampos","camps","$","each","this","val","formatAMPM","d","today","h","getHours","m","getMinutes","s","getSeconds","ampm","ver","id","ajax","url","attr","type","data","error","respuesta","console","log","success","i","valor","tipo","split","tipo2","id2","html","prop","actual","ids","setTimeout","eq","trigger","show","hide","eliminar","confirm","toastr","options","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","timeOut","onclick","warning","mostrarTabla","generarCampos","direccion","append","change","css","color","modulo","window","sessionStorage","setItem","JSON","stringify","almacenados","buildWrap","querySelector","renderWrap","formData","editing","fbOptions","dataType","parse","toggleEdit","body","classList","toggle","formBuilder","formRender","text","indexOf","replace","generarTitulosDinamicos","json","inputs","inputs2","label","contents","trim","w","label2","parent","find","arreglo","salida","title","cadena","k","elementos","j","push","searchable","orderable","render","row","tomarValores","items","entra","acomulado","is","titulo","num","img","undefined","date","Date","fecha","getDate","getMonth","getFullYear","sa","mostrar","entrada","temp","indice","_id","f","separar","fecha_creacion","usuario","addClass","table","DataTable","order","columns","columnDefs","targets","className","full","meta","destroy","select","responsive","altEditor","dom","lengthMenu","buttons","extend","action","e","dt","node","conf","modal","postfixButtons","location","hostname","port","exportOptions","customize","xlsx","sheet","xl","worksheets","click","removeAttr","on","rows","search","nodes","checked","x","simbolo","ready","outline","background-color","empresa","info"],"mappings":"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","file":"index.min.js","sourcesContent":["/**\n * @autor:godie007\n * @date: 2017/01/11 03:09\n * Esta función tiene como propocito tomar de una imagen el codigo en base64 para\n * ser usado mas adelante para subir en el servidor\n **/\nfunction generarImagen(file, index) {\n\n    var filesSelected = file.files;\n    if (filesSelected.length > 0) {\n        var fileToLoad = filesSelected[0];\n\n        if (!fileToLoad.name.match(/\\.(jpg|jpeg|png|gif|tiff|bmp|ico)$/)) {\n            alert('El archivo que intenta subir no es una Imgen');\n        } else {\n            if (fileToLoad.size / 1024 <= 1024) {\n\n                var fileReader = new FileReader();\n                fileReader.onload = function(fileLoadedEvent) {\n                    var newImage = document.createElement('img');\n                    var srcData = fileLoadedEvent.target.result; // <--- data: base64\n                    newImage.src = srcData;\n                    newImage.style.height = '80px';\n                    newImage.style.width = '80px';\n                    document.getElementById(\"imagen\" + index).innerHTML = newImage.outerHTML;\n                };\n                fileReader.readAsDataURL(fileToLoad);\n            } else {\n                alert(\"Disculpe, No se permiten Imagenes mayores a 1024 kb!\");\n            }\n        }\n    }\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:04\n * En caso de Ingresar un nuevo registro se limpian todos los campos\n **/\nfunction limpiarCampos() {\n    var camps = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n    camps.each(function() {\n        $(this).val(\"\");\n    });\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:28\n * De la fecha del sistema Actual se toma el formato PM AM\n **/\nfunction formatAMPM(d) {\n    var today = d;\n    var h = today.getHours();\n    var m = today.getMinutes();\n    var s = today.getSeconds();\n    var ampm = h >= 12 ? 'PM' : 'AM';\n    h = (h % 12 === 0) ? 12 : h % 12;\n    h = h ? h : 12; // the hour '0' should be '12'\n    m = m < 10 ? '0' + m : m;\n    s = s < 10 ? '0' + s : s;\n    return (h + ':' + m + ':' + s + ' ' + ampm);\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:21\n * En caso de presionar en el boton ver se visualiza el registro en los items construidos\n * dinamicamente\n **/\nfunction ver(id){\n  $(\"#id\").val(id);\n\n  $.ajax({\n      url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/ver/\",\n      type: 'POST',\n      data: {\n          'id': id\n      },\n      error: function(respuesta) {\n          console.log(respuesta);\n      },\n      success: function(respuesta) {\n          console.log(\"Se limpian Campos\");\n          limpiarCampos();\n\n          for (var i = 0; i < respuesta.length; i++) {\n              var valor = respuesta[i].valor;\n              var id = respuesta[i].id;\n              var tipo = respuesta[i].id.split(\"-\")[0];\n              var tipo2 = respuesta[i].id.split(\"-\")[0] + \"-\" + respuesta[i].id.split(\"-\")[1];\n              if (tipo === 'textarea') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'file') {\n                  var id2 = respuesta[i].id.split(\"-\")[1];\n                  $(\"#imagen\" + id2).html(valor);\n              }\n              if (tipo === 'text') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'radio') {\n                  $(\"#\" + id).prop(\"checked\", true);\n              }\n              if (tipo === 'select') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'date') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'number') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'checkbox') {\n                  var actual = $(\"#\" + id).prop('checked');\n                  valor = valor === 'true' ? true : false;\n                  if (valor !== actual) {\n                      $(\"#\" + id).prop(\"checked\", valor);\n                  }\n              }\n              if (tipo2 === 'checkbox-group') {\n                  var ids = respuesta[i].id.split(\"/*\");\n                  for (var s = 0; s < ids.length; s++) {\n                      $(\"#\" + ids[s]).prop(\"checked\", true);\n                  }\n              }\n          }\n          setTimeout(function() {\n              $(\"input:visible\").eq(0).trigger('focus');\n          }, 200);\n          $(\"#actualizar\").show();\n          $(\"#guardar\").hide();\n      }\n  });\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:21\n * Este metodo elimina un determinado registro teniendo como parametro su id\n **/\nfunction eliminar(id) {\n    if (confirm('Esta Seguro?')) {\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.warning(\"El registro se ha Eliminado!.\", \"Importante!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'DELETE',\n            data: {\n                'id': id\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    mostrarTabla();\n                    console.log(respuesta);\n                }\n            }\n        });\n    }\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:24\n * Este metodo se utiliza para Contruir el formulario dinamico e inyectar la funcionalidad\n * de imagenes en vista previa\n **/\nfunction generarCampos() {\n    setTimeout(function() {\n        $(\"input[id^='file-']:not([id$='preview'])\").each(function() {\n            var id = $(this).attr(\"id\").split(\"-\")[1];\n            var direccion = \"/images/default.png\";\n            $(\".field-file-\" + id).append('<div id=\"imagen' + id + '\"><img src=\"' + direccion + '\" style=\"height:80px;width:80px;\"></div>');\n            $(\"#file-\" + id).change(function() {\n                generarImagen(this, id);\n            });\n        });\n        if ($(\"input[type=checkbox]:checked\").length === 0) {\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        } else {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        }\n    }, 1000);\n\n    $.ajax({\n        url: \"/admin/formulario/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n        type: 'POST',\n        data: {\n            'modulo': $(\"#modulo\").attr(\"class\")\n        },\n        error: function(respuesta) {\n            console.log(respuesta);\n        },\n        success: function(respuesta) {\n            $(\"#panel\").css('visibility', 'hidden');\n            if (respuesta.length > 0) {\n                window.sessionStorage.setItem('formData', JSON.stringify(JSON.stringify(respuesta)));\n            }\n\n            var almacenados = JSON.stringify(JSON.stringify(respuesta));\n            var buildWrap = document.querySelector('.build-wrap'),\n                renderWrap = document.querySelector('.render-wrap'),\n                formData = almacenados,\n                editing = true,\n                fbOptions = {\n                    dataType: 'json'\n                };\n\n            if (formData) {\n                fbOptions.formData = JSON.parse(formData);\n            }\n\n            var toggleEdit = function() {\n                document.body.classList.toggle('form-rendered', editing);\n                editing = !editing;\n            };\n\n            var formBuilder = $(buildWrap).formBuilder(fbOptions).data('formBuilder');\n            toggleEdit();\n            $(renderWrap).formRender({\n                dataType: 'json',\n                formData: formBuilder.formData\n            });\n\n        }\n    });\n    setTimeout(function() {\n        // se elimina el simbolo _ del generador de modulos dinamico\n        $(\"label\").each(function(){\n          if ($(this).text().indexOf(\"_\") !== -1) {\n              $(this).text($(this).text().replace(\"_\",\" \"));\n          }\n        });\n        mostrarTabla();\n    }, 500);\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:17\n * Este metodo analiza la informacion de formulario contruido dinamicamente\n * y saca sus etiquetas para dar los titulos a la tabla del plugin datatable\n **/\nfunction generarTitulosDinamicos() {\n\n    var json = '[';\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n    var inputs2 = $('div[class*=\"field-checkbox-group\"]:not([class*=\"preview\"])');\n\n    for (var i = 0; i < inputs2.length; i++) {\n        json += '{';\n        var label = inputs2.eq(i).contents().eq(0).text().trim();\n\n        json += '\"label\":\"' + label.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"\"';\n        json += '},';\n    }\n    for (var w = 0; w < inputs.length; w++) {\n        var label2;\n        json += '{';\n        label2 = inputs.eq(w).parent().find(\"label\").text().trim();\n        if (inputs.eq(w).parent().find(\"label\").length > 1) {\n            label2 = inputs.eq(w).parent().parent().find(\"label\").eq(0).text().trim();\n        }\n        if (inputs.eq(w).parent().find(\"label\").length === 0) {\n            label2 = inputs.eq(w).parent().parent().find(\"label\").text();\n        }\n        json += '\"label\":\"' + label2.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"\"';\n        json += '},';\n    }\n    json += '{\"label\":\"Usuario de Creación\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Fecha de Creación\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Usuario de Actualización\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Fecha de Actualización\",';\n    json += '\"valor\":\"\"}';\n    json += ']';\n\n    var arreglo = JSON.parse(json);\n\n    var salida = [{\n        \"data\": \"_id\",\n        title: \"<input type='checkbox' id='example-select-all'>\"\n    }, {\n        \"data\": \"indice\",\n        title: \"N°\"\n    }];\n\n    var cadena = '[';\n\n    for (var k = 0; k < arreglo.length; k++) {\n        cadena += '{\"data\": \"' + arreglo[k].label + '\",\"title\": \"' + arreglo[k].label + '\"}';\n        if (k !== arreglo.length - 1) {\n            cadena += ',';\n        }\n    }\n    cadena += ']';\n    var elementos = JSON.parse(cadena);\n\n    for (var j = 0; j < elementos.length; j++) {\n        salida.push(elementos[j]);\n    }\n\n    salida.push({\n        \"data\": \"_id\",\n        title: \"Acción\",\n        'searchable': false,\n        'orderable': false,\n        render: function(data, type, row) {\n            return '<div class=\"btn-group\"><button type=\"button\" data-toggle=\"modal\" onclick=\"ver(&quot;'+data+'&quot;);\" data-target=\"#myModal\" class=\"btn btn-default\" >Editar</button><button type=\"button\" id=\"&quot;' + data + '&quot;\"class=\"btn btn-default eliminarR\" >Eliminar</button></div>';\n        }\n    });\n    return salida;\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:20\n * El proposito de este metodo es tomar los valores de los items construidos dinamicamente\n * y retornarlos en una estructura JSON para luego ser almacenados en base de datos\n **/\nfunction tomarValores() {\n    var json = '[';\n\n    var inputs2 = $('div[class*=\"field-checkbox-group\"]:not([class*=\"preview\"])');\n\n    for (var i = 0; i < inputs2.length; i++) {\n        var items = $(inputs2[i]).find(\"label\");\n        var entra = $(inputs2[i]).find(\"input\");\n        json += '{';\n        var acomulado = '';\n        var ids = '';\n        for (var s = 1; s < items.length; s++) {\n            var data = $(items[s]).text().trim();\n            if ($(entra[s - 1]).is(\":checked\")) {\n                acomulado += data + '<br>';\n                ids += $(entra[s - 1]).attr(\"id\");\n            }\n            if (data !== '') {\n                if (s < items.length - 1) {\n                    ids += '/*';\n                }\n            }\n        }\n\n        var label = inputs2.eq(i).contents().eq(0).text().trim();\n        json += '\"titulo\":\"' + label.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"' + acomulado + '\",';\n        json += '\"id\":\"' + ids + '\"';\n        json += '},';\n    }\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n\n    for (var d = inputs.length - 1; d >= 0; d--) {\n        if (inputs.eq(d).length > 0) {\n\n            var titulo = inputs.eq(d).parent().find(\"label\").eq(0).text().trim();\n            var valor = inputs.eq(d).val() === '' ? ' ' : inputs.eq(d).val();\n\n            if (inputs.eq(d).attr(\"id\").indexOf(\"radio-group\") !== -1) {\n                titulo = inputs.eq(d).parent().parent().find(\"label\").eq(0).text().trim();\n                var num = inputs.eq(d).attr(\"id\").split(\"-\")[3];\n                valor = inputs.eq(d).parent().find(\"label\").eq(num).text().trim();\n            }\n\n            if (inputs.eq(d).attr(\"id\").indexOf(\"select-\") !== -1) {\n                valor = inputs.eq(d).find(\"option:selected\").val();\n            }\n            if (inputs.eq(d).attr(\"id\").indexOf(\"file-\") !== -1) {\n                var id = inputs.eq(d).attr(\"id\").split(\"-\")[1];\n                var img = $(\"#imagen\" + id + \" img\").prop(\"src\");\n                if (img === undefined || img === '') {\n                    img = '/images/default.png';\n                }\n                valor = '<img src=' + img + ' style=height:80px;width:80px;>';\n            }\n            if (inputs.eq(d).attr(\"id\").indexOf(\"checkbox-\") !== -1) {\n                if (inputs.eq(d).parent().find(\"label\").length === 0) {\n                    titulo = inputs.eq(d).parent().parent().find(\"label\").text().trim();\n                } else {\n                    titulo = inputs.eq(d).parent().find(\"label\").text().trim();\n                }\n\n                valor = $(\"#\" + inputs.eq(d).attr(\"id\")).is(':checked');\n            }\n            json += '{\"id\":\"' + inputs.eq(d).attr(\"id\") + '\",';\n            json += '\"titulo\":\"' + titulo.replace(\"?\", \"\") + '\",';\n            json += '\"valor\":\"' + valor + '\"}';\n        }\n        if (d > 0 && $(\"#id\").val() === \"\") {\n            json += \",\";\n        }\n        if ($(\"#id\").val() !== \"\") {\n            json += \",\";\n        }\n    }\n    if ($(\"#id\").val() !== \"\") {\n\n        var date = new Date();\n        var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n\n        json += '{\"id\":\"usuAct\",';\n        json += '\"titulo\":\"Usuario de Actualización\",';\n        json += '\"valor\":\"' + $(\"#usuario\").attr(\"class\") + '\"},';\n        json += '{\"id\":\"fechaC\",';\n        json += '\"titulo\":\"Fecha de Actualización\",';\n        json += '\"valor\":\"' + fecha + '\"}';\n    }\n    json += ']';\n    var sa = JSON.parse(json);\n    return sa;\n}\n$(document).ready(function() {\n\n    generarCampos();\n\n    $(\"#menuContactos\").click();\n    $(\"#menuCientes\").click();\n    $(\"#in_3\").css({\n        'outline': 'none',\n        'background-color': '#393a39',\n        'color': 'white'\n    });\n\n    $(\"#actualizar\").hide();\n    $(\".alert\").hide();\n    $(\"#guardar\").show();\n\n    $(\"#ingresar\").click(function() {\n        $(\"#guardar\").show();\n        $(\"#actualizar\").hide();\n        $(\"input,textarea\").val(\"\");\n        $(\".alert\").hide();\n    });\n\n    $(\"#guardar\").click(function() {\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.success(\"Se ha Guardado el Producto.\", \"Felicidades!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'POST',\n            data: {\n                'data': tomarValores(),\n                'usuario': $(\"#usuario\").attr(\"class\"),\n                'modulo': $(\"#modulo\").attr(\"class\"),\n                'empresa': $(\"#empresa\").attr(\"class\")\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    mostrarTabla();\n                    $('#myModal').modal('hide');\n\n                    $('#myModal').hide();\n                    $('.modal-backdrop').hide();\n                }\n            }\n        });\n    });\n\n    $(\"#actualizar\").click(function() {\n        $(\".alert\").hide();\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.info(\"Actualizado Correctamente.\", \"Felicidades!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'PUT',\n            data: {\n                '_id': $(\"#id\").val(),\n                'data': tomarValores()\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    $(\".alert\").show();\n                    mostrarTabla();\n                }\n            }\n        });\n    });\n});\n\nfunction mostrarTabla() {\n    $.ajax({\n        url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/listar/\",\n        type: 'GET',\n        error: function(respuesta) {\n            console.log(respuesta);\n        },\n        success: function(respuesta) {\n            //console.log(JSON.stringify(respuesta));\n            mostrar(respuesta);\n            $(\".ingresar\").trigger('focus');\n        }\n    });\n}\n\n\nfunction mostrar(entrada) {\n    // se hace la adaptacion dinamica a la tabla\n    var temp = [];\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id^=\"checkbox-\"]:not([id*=\"preview\"]),div[class*=\"radio-group\"]:not([class*=\"preview\"])');\n    // se expande dinamicamente los campos que no existen ahun en base de datos\n\n    for (var i = 0; i < entrada.length; i++) {\n        temp.push({});\n        temp[i].indice = i;\n        temp[i]._id = entrada[i]._id;\n\n        for (var s = 0; s < inputs.length; s++) {\n            var label = inputs.eq(inputs.length - 1 - s).parent().find(\"label\").eq(0).text().trim();\n            if (inputs.eq(inputs.length - 1 - s).parent().find(\"label\").length > 1) {\n                label = inputs.eq(inputs.length - 1 - s).parent().parent().find(\"label\").eq(0).text().trim();\n            }\n            if (inputs.eq(s).parent().find(\"label\").length === 0) {\n                label = inputs.eq(inputs.length - 1 - s).parent().parent().find(\"label\").eq(0).text().trim();\n            }\n            label = label.replace(\"?\", \"\");\n            if (i === 0) {\n                //console.log(label);\n            }\n            temp[i][label] = '';\n            temp[i][\"Fecha de Actualización\"] = '';\n            temp[i][\"Fecha de Creación\"] = '';\n            temp[i][\"Usuario de Creación\"] = '';\n            temp[i][\"Usuario de Actualización\"] = '';\n\n        }\n        for (var f = 0; f < inputs.length; f++) {\n            if (entrada[i].data[f] !== undefined) {\n                var valor = entrada[i].data[f].valor;\n                if (entrada[i].data[f].titulo === 'Valor') {\n                  valor = \"$\" +separar(entrada[i].data[f].valor + '', ',');\n                }\n                temp[i][entrada[i].data[f].titulo] = valor;\n            }\n        }\n        var date = new Date(entrada[i].fecha_creacion);\n        var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n        temp[i][\"Fecha de Creación\"] = fecha;\n        temp[i][\"Usuario de Creación\"] = entrada[i].usuario;\n\n        if (entrada[i].data[inputs.length] !== undefined) {\n            for (var d = 0; d < entrada[i].data.length; d++) {\n                if (entrada[i].data[d].titulo === \"Fecha de Actualización\") {\n                    temp[i][\"Fecha de Actualización\"] = entrada[i].data[d].valor;\n                }\n                if (entrada[i].data[d].titulo === \"Usuario de Actualización\") {\n                    temp[i][\"Usuario de Actualización\"] = entrada[i].data[d].valor;\n                }\n            }\n\n        }\n    }\n    $(\"input[id^=date-]\").addClass(\"form-control\").attr('type', 'datetime-local');\n    table = $('#example').DataTable({\n        \"data\": temp,\n        \"order\": [\n            [1, \"asc\"]\n        ],\n        \"columns\": generarTitulosDinamicos(),\n        'columnDefs': [{\n            'targets': 0,\n            'searchable': false,\n            'orderable': false,\n            'className': 'dt-body-center',\n            'render': function(data, type, full, meta) {\n                return '<input type=\"checkbox\" class=\"' + $('<div/>').text(data).html() + '\">';\n            }\n        }],\n        \"destroy\": true,\n        select: true,\n        responsive: true,\n        altEditor: true,\n        dom: 'Bfrtip',\n        lengthMenu: [\n            [ 10, 25, 50,100,500, -1 ],\n            [ '10 Filas', '25 Filas', '50 Filas', '100 Filas', '500 Filas', 'Mostrar Todo' ]\n        ],\n        buttons: [\n              {\n                text: 'Filas',\n                extend: 'pageLength'\n              },\n              {\n                text: 'Ingresar',\n                className: 'ingresar',\n                action: function(e, dt, node, conf) {\n                    $('#id').val('');\n                    $('#myModal').modal('show');\n                    $(\"#actualizar\").hide();\n                    $(\"#guardar\").show();\n                    limpiarCampos();\n                    $(\"div[id^=imagen]\").each(function() {\n                        $(this).find(\"img\").prop(\"src\", \"/images/default.png\");\n                    });\n                    setTimeout(function() {\n                        $(\"input:visible\").eq(0).trigger('focus');\n                    }, 200);\n                }\n            },\n            {\n                text: 'Mostrar Columnas',\n                postfixButtons: ['colvisRestore'],\n                extend: 'colvis'\n            },\n            {\n                text: 'Eliminar Selección',\n                className: 'eliminar',\n                action: function(e, dt, node, conf) {\n                    if (confirm('Esta Seguro?')) {\n                        toastr.options = {\n                            closeButton: true,\n                            debug: false,\n                            newestOnTop: false,\n                            progressBar: true,\n                            positionClass: \"toast-top-center\" || 'toast-top-right',\n                            preventDuplicates: false,\n                            timeOut: \"1000\",\n                            onclick: function() {\n                                console.log(\"Toco el Mensaje\");\n                            }\n                        };\n                        //success error warning info\n                        toastr.warning(\"Los inventarios se han Eliminado!.\", \"Importante!\");\n                        $(\"input[type='checkbox']\").each(function() {\n                            if ($(this).is(\":checked\")) {\n                                $.ajax({\n                                    url: \"http://\" + window.location.hostname + \":\" + window.location.port + \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n                                    type: 'DELETE',\n                                    data: {\n                                        'id': $(this).attr(\"class\")\n                                    },\n                                    error: function(respuesta) {\n                                        console.log(\"Error \" + respuesta);\n                                    },\n                                    success: function(respuesta) {\n                                      console.log(respuesta);\n                                    }\n                                });\n                            }\n                        });\n                        setTimeout(function() {\n                          mostrarTabla();\n                        },500);\n                    }\n                }\n            },\n            {\n                extend: 'collection',\n                text: 'Exportar',\n                buttons: [{\n                    extend: 'pdfHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n\n                }, {\n                    extend: 'csvHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'copyHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'excelHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    },\n                    customize: function(xlsx) {\n                        var sheet = xlsx.xl.worksheets['sheet1.xml'];\n                        $('row c[r^=\"C\"]', sheet).attr('s', '2');\n                    }\n                }]\n            }\n        ]\n    });\n    $(\"input[type=checkbox]:visible\").click(function() {\n        $(\".eliminar\").removeAttr(\"disabled\");\n        if ($(\"input[type=checkbox]:checked\").length === 0) {\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        } else {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        }\n    });\n    /**\n     * @autor:godie007\n     * @date: 2017/01/11 03:28\n     * Al momento de presionar en el check superir se seleccionan todos lo checkbox para\n     * luego ser eliminados\n     **/\n    $('#example-select-all').on('click', function() {\n        // Obtener todas las filas con la búsqueda aplicada\n        var rows = table.rows({\n            'search': 'applied'\n        }).nodes();\n        // Active o desactive las casillas de verificación de todas las filas de la tabla\n        $('input[type=\"checkbox\"]', rows).prop('checked', this.checked);\n        if ($('input[type=\"checkbox\"]', rows).is(\":checked\")) {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        } else {\n            $(\".eliminar\").css({\n                'color': 'black'\n            });\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        }\n    });\n}\nfunction separar(x, simbolo) {\n    if (x !== undefined && x !== '') {\n        return x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, simbolo);\n    }\n    return '';\n}\n"]}