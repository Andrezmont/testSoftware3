{"version":3,"sources":["index.js"],"names":["generarImagen","file","index","filesSelected","files","length","fileToLoad","name","match","size","fileReader","FileReader","onload","fileLoadedEvent","newImage","document","createElement","srcData","target","result","src","style","height","width","getElementById","innerHTML","outerHTML","readAsDataURL","alert","limpiarCampos","camps","$","each","this","val","formatAMPM","d","today","h","getHours","m","getMinutes","s","getSeconds","ampm","eliminar","id","confirm","toastr","options","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","timeOut","onclick","console","log","warning","ajax","url","attr","type","data","error","respuesta","success","mostrarTabla","generarCampos","setTimeout","split","direccion","append","change","css","color","modulo","window","sessionStorage","setItem","JSON","stringify","almacenados","buildWrap","querySelector","renderWrap","formData","editing","fbOptions","dataType","parse","toggleEdit","body","classList","toggle","formBuilder","formRender","text","indexOf","replace","generarTitulosDinamicos","json","inputs","inputs2","i","label","eq","contents","trim","w","label2","parent","find","arreglo","salida","title","cadena","k","elementos","j","push","searchable","orderable","render","row","tomarValores","items","entra","acomulado","ids","is","titulo","valor","num","img","prop","undefined","date","Date","fecha","getDate","getMonth","getFullYear","sa","mostrar","trigger","entrada","temp","indice","_id","f","separar","fecha_creacion","usuario","addClass","table","DataTable","order","columns","columnDefs","targets","className","full","meta","html","destroy","select","responsive","altEditor","dom","lengthMenu","buttons","extend","action","e","dt","node","conf","modal","hide","show","postfixButtons","location","hostname","port","exportOptions","customize","xlsx","sheet","xl","worksheets","click","ver","removeAttr","on","rows","search","nodes","checked","x","simbolo","tipo","tipo2","id2","actual","ready","outline","background-color","empresa","info"],"mappings":"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","file":"index.min.js","sourcesContent":["/**\n * @autor:godie007\n * @date: 2017/01/11 03:09\n * Esta función tiene como propocito tomar de una imagen el codigo en base64 para\n * ser usado mas adelante para subir en el servidor\n **/\nfunction generarImagen(file, index) {\n\n    var filesSelected = file.files;\n    if (filesSelected.length > 0) {\n        var fileToLoad = filesSelected[0];\n\n        if (!fileToLoad.name.match(/\\.(jpg|jpeg|png|gif|tiff|bmp|ico)$/)) {\n            alert('El archivo que intenta subir no es una Imgen');\n        } else {\n            if (fileToLoad.size / 1024 <= 1024) {\n\n                var fileReader = new FileReader();\n                fileReader.onload = function(fileLoadedEvent) {\n                    var newImage = document.createElement('img');\n                    var srcData = fileLoadedEvent.target.result; // <--- data: base64\n                    newImage.src = srcData;\n                    newImage.style.height = '80px';\n                    newImage.style.width = '80px';\n                    document.getElementById(\"imagen\" + index).innerHTML = newImage.outerHTML;\n                };\n                fileReader.readAsDataURL(fileToLoad);\n            } else {\n                alert(\"Disculpe, No se permiten Imagenes mayores a 1024 kb!\");\n            }\n        }\n    }\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:04\n * En caso de Ingresar un nuevo registro se limpian todos los campos\n **/\nfunction limpiarCampos() {\n    var camps = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n    camps.each(function() {\n        $(this).val(\"\");\n    });\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:28\n * De la fecha del sistema Actual se toma el formato PM AM\n **/\nfunction formatAMPM(d) {\n    var today = d;\n    var h = today.getHours();\n    var m = today.getMinutes();\n    var s = today.getSeconds();\n    var ampm = h >= 12 ? 'PM' : 'AM';\n    h = (h % 12 === 0) ? 12 : h % 12;\n    h = h ? h : 12; // the hour '0' should be '12'\n    m = m < 10 ? '0' + m : m;\n    s = s < 10 ? '0' + s : s;\n    return (h + ':' + m + ':' + s + ' ' + ampm);\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:21\n * En caso de presionar en el boton ver se visualiza el registro en los items construidos\n * dinamicamente\n **/\n var ver = function(){\n  var id = $(this).attr(\"id\");\n  $(\"#id\").val(id);\n\n  $.ajax({\n      url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/ver/\",\n      type: 'POST',\n      data: {\n          'id': id\n      },\n      error: function(respuesta) {\n          console.log(respuesta);\n      },\n      success: function(respuesta) {\n          console.log(\"Se limpian Campos\");\n          limpiarCampos();\n\n          for (var i = 0; i < respuesta.length; i++) {\n              var valor = respuesta[i].valor;\n              var id = respuesta[i].id;\n              var tipo = respuesta[i].id.split(\"-\")[0];\n              var tipo2 = respuesta[i].id.split(\"-\")[0] + \"-\" + respuesta[i].id.split(\"-\")[1];\n              if (tipo === 'textarea') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'file') {\n                  var id2 = respuesta[i].id.split(\"-\")[1];\n                  $(\"#imagen\" + id2).html(valor);\n              }\n              if (tipo === 'text') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'radio') {\n                  $(\"#\" + id).prop(\"checked\", true);\n              }\n              if (tipo === 'select') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'date') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'number') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'checkbox') {\n                  var actual = $(\"#\" + id).prop('checked');\n                  valor = valor === 'true' ? true : false;\n                  if (valor !== actual) {\n                      $(\"#\" + id).prop(\"checked\", valor);\n                  }\n              }\n              if (tipo2 === 'checkbox-group') {\n                  var ids = respuesta[i].id.split(\"/*\");\n                  for (var s = 0; s < ids.length; s++) {\n                      $(\"#\" + ids[s]).prop(\"checked\", true);\n                  }\n              }\n          }\n          setTimeout(function() {\n              $(\"input:visible\").eq(0).trigger('focus');\n          }, 200);\n          $(\"#actualizar\").show();\n          $(\"#guardar\").hide();\n      }\n  });\n};\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:21\n * Este metodo elimina un determinado registro teniendo como parametro su id\n **/\nfunction eliminar(id) {\n    if (confirm('Esta Seguro?')) {\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.warning(\"El registro se ha Eliminado!.\", \"Importante!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'DELETE',\n            data: {\n                'id': id\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    mostrarTabla();\n                    console.log(respuesta);\n                }\n            }\n        });\n    }\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:24\n * Este metodo se utiliza para Contruir el formulario dinamico e inyectar la funcionalidad\n * de imagenes en vista previa\n **/\nfunction generarCampos() {\n    setTimeout(function() {\n        $(\"input[id^='file-']:not([id$='preview'])\").each(function() {\n            var id = $(this).attr(\"id\").split(\"-\")[1];\n            var direccion = \"/images/default.png\";\n            $(\".field-file-\" + id).append('<div id=\"imagen' + id + '\"><img src=\"' + direccion + '\" style=\"height:80px;width:80px;\"></div>');\n            $(\"#file-\" + id).change(function() {\n                generarImagen(this, id);\n            });\n        });\n        if ($(\"input[type=checkbox]:checked\").length === 0) {\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        } else {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        }\n    }, 1000);\n\n    $.ajax({\n        url: \"/admin/formulario/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n        type: 'POST',\n        data: {\n            'modulo': $(\"#modulo\").attr(\"class\")\n        },\n        error: function(respuesta) {\n            console.log(respuesta);\n        },\n        success: function(respuesta) {\n            $(\"#panel\").css('visibility', 'hidden');\n            if (respuesta.length > 0) {\n                window.sessionStorage.setItem('formData', JSON.stringify(JSON.stringify(respuesta)));\n            }\n\n            var almacenados = JSON.stringify(JSON.stringify(respuesta));\n            var buildWrap = document.querySelector('.build-wrap'),\n                renderWrap = document.querySelector('.render-wrap'),\n                formData = almacenados,\n                editing = true,\n                fbOptions = {\n                    dataType: 'json'\n                };\n\n            if (formData) {\n                fbOptions.formData = JSON.parse(formData);\n            }\n\n            var toggleEdit = function() {\n                document.body.classList.toggle('form-rendered', editing);\n                editing = !editing;\n            };\n\n            var formBuilder = $(buildWrap).formBuilder(fbOptions).data('formBuilder');\n            toggleEdit();\n            $(renderWrap).formRender({\n                dataType: 'json',\n                formData: formBuilder.formData\n            });\n\n        }\n    });\n    setTimeout(function() {\n        // se elimina el simbolo _ del generador de modulos dinamico\n        $(\"label\").each(function(){\n          if ($(this).text().indexOf(\"_\") !== -1) {\n              $(this).text($(this).text().replace(\"_\",\" \"));\n          }\n        });\n        mostrarTabla();\n    }, 500);\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:17\n * Este metodo analiza la informacion de formulario contruido dinamicamente\n * y saca sus etiquetas para dar los titulos a la tabla del plugin datatable\n **/\nfunction generarTitulosDinamicos() {\n\n    var json = '[';\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n    var inputs2 = $('div[class*=\"field-checkbox-group\"]:not([class*=\"preview\"])');\n\n    for (var i = 0; i < inputs2.length; i++) {\n        json += '{';\n        var label = inputs2.eq(i).contents().eq(0).text().trim();\n\n        json += '\"label\":\"' + label.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"\"';\n        json += '},';\n    }\n    for (var w = 0; w < inputs.length; w++) {\n        var label2;\n        json += '{';\n        label2 = inputs.eq(w).parent().find(\"label\").text().trim();\n        if (inputs.eq(w).parent().find(\"label\").length > 1) {\n            label2 = inputs.eq(w).parent().parent().find(\"label\").eq(0).text().trim();\n        }\n        if (inputs.eq(w).parent().find(\"label\").length === 0) {\n            label2 = inputs.eq(w).parent().parent().find(\"label\").text();\n        }\n        json += '\"label\":\"' + label2.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"\"';\n        json += '},';\n    }\n    json += '{\"label\":\"Usuario de Creación\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Fecha de Creación\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Usuario de Actualización\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Fecha de Actualización\",';\n    json += '\"valor\":\"\"}';\n    json += ']';\n\n    var arreglo = JSON.parse(json);\n\n    var salida = [{\n        \"data\": \"_id\",\n        title: \"<input type='checkbox' id='example-select-all'>\"\n    }, {\n        \"data\": \"indice\",\n        title: \"N°\"\n    }];\n\n    var cadena = '[';\n\n    for (var k = 0; k < arreglo.length; k++) {\n        cadena += '{\"data\": \"' + arreglo[k].label + '\",\"title\": \"' + arreglo[k].label + '\"}';\n        if (k !== arreglo.length - 1) {\n            cadena += ',';\n        }\n    }\n    cadena += ']';\n    var elementos = JSON.parse(cadena);\n\n    for (var j = 0; j < elementos.length; j++) {\n        salida.push(elementos[j]);\n    }\n\n    salida.push({\n        \"data\": \"_id\",\n        title: \"Acción\",\n        'searchable': false,\n        'orderable': false,\n        render: function(data, type, row) {\n            return '<div class=\"btn-group\"><button id=\"' + data + '\" type=\"button\" data-toggle=\"modal\" data-target=\"#myModal\" class=\"btn btn-default ver\" >Editar</button><button type=\"button\" id=\"' + data + '\"class=\"btn btn-default eliminarR\" >Eliminar</button></div>';\n        }\n    });\n    return salida;\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:20\n * El proposito de este metodo es tomar los valores de los items construidos dinamicamente\n * y retornarlos en una estructura JSON para luego ser almacenados en base de datos\n **/\nfunction tomarValores() {\n    var json = '[';\n\n    var inputs2 = $('div[class*=\"field-checkbox-group\"]:not([class*=\"preview\"])');\n\n    for (var i = 0; i < inputs2.length; i++) {\n        var items = $(inputs2[i]).find(\"label\");\n        var entra = $(inputs2[i]).find(\"input\");\n        json += '{';\n        var acomulado = '';\n        var ids = '';\n        for (var s = 1; s < items.length; s++) {\n            var data = $(items[s]).text().trim();\n            if ($(entra[s - 1]).is(\":checked\")) {\n                acomulado += data + '<br>';\n                ids += $(entra[s - 1]).attr(\"id\");\n            }\n            if (data !== '') {\n                if (s < items.length - 1) {\n                    ids += '/*';\n                }\n            }\n        }\n\n        var label = inputs2.eq(i).contents().eq(0).text().trim();\n        json += '\"titulo\":\"' + label.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"' + acomulado + '\",';\n        json += '\"id\":\"' + ids + '\"';\n        json += '},';\n    }\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n\n    for (var d = inputs.length - 1; d >= 0; d--) {\n        if (inputs.eq(d).length > 0) {\n\n            var titulo = inputs.eq(d).parent().find(\"label\").eq(0).text().trim();\n            var valor = inputs.eq(d).val() === '' ? ' ' : inputs.eq(d).val();\n\n            if (inputs.eq(d).attr(\"id\").indexOf(\"radio-group\") !== -1) {\n                titulo = inputs.eq(d).parent().parent().find(\"label\").eq(0).text().trim();\n                var num = inputs.eq(d).attr(\"id\").split(\"-\")[3];\n                valor = inputs.eq(d).parent().find(\"label\").eq(num).text().trim();\n            }\n\n            if (inputs.eq(d).attr(\"id\").indexOf(\"select-\") !== -1) {\n                valor = inputs.eq(d).find(\"option:selected\").val();\n            }\n            if (inputs.eq(d).attr(\"id\").indexOf(\"file-\") !== -1) {\n                var id = inputs.eq(d).attr(\"id\").split(\"-\")[1];\n                var img = $(\"#imagen\" + id + \" img\").prop(\"src\");\n                if (img === undefined || img === '') {\n                    img = '/images/default.png';\n                }\n                valor = '<img src=' + img + ' style=height:80px;width:80px;>';\n            }\n            if (inputs.eq(d).attr(\"id\").indexOf(\"checkbox-\") !== -1) {\n                if (inputs.eq(d).parent().find(\"label\").length === 0) {\n                    titulo = inputs.eq(d).parent().parent().find(\"label\").text().trim();\n                } else {\n                    titulo = inputs.eq(d).parent().find(\"label\").text().trim();\n                }\n\n                valor = $(\"#\" + inputs.eq(d).attr(\"id\")).is(':checked');\n            }\n            json += '{\"id\":\"' + inputs.eq(d).attr(\"id\") + '\",';\n            json += '\"titulo\":\"' + titulo.replace(\"?\", \"\") + '\",';\n            json += '\"valor\":\"' + valor + '\"}';\n        }\n        if (d > 0 && $(\"#id\").val() === \"\") {\n            json += \",\";\n        }\n        if ($(\"#id\").val() !== \"\") {\n            json += \",\";\n        }\n    }\n    if ($(\"#id\").val() !== \"\") {\n\n        var date = new Date();\n        var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n\n        json += '{\"id\":\"usuAct\",';\n        json += '\"titulo\":\"Usuario de Actualización\",';\n        json += '\"valor\":\"' + $(\"#usuario\").attr(\"class\") + '\"},';\n        json += '{\"id\":\"fechaC\",';\n        json += '\"titulo\":\"Fecha de Actualización\",';\n        json += '\"valor\":\"' + fecha + '\"}';\n    }\n    json += ']';\n    var sa = JSON.parse(json);\n    return sa;\n}\n$(document).ready(function() {\n\n    generarCampos();\n\n    $(\"#menuContactos\").click();\n    $(\"#menuCientes\").click();\n    $(\"#in_3\").css({\n        'outline': 'none',\n        'background-color': '#393a39',\n        'color': 'white'\n    });\n\n    $(\"#actualizar\").hide();\n    $(\".alert\").hide();\n    $(\"#guardar\").show();\n\n    $(\"#ingresar\").click(function() {\n        $(\"#guardar\").show();\n        $(\"#actualizar\").hide();\n        $(\"input,textarea\").val(\"\");\n        $(\".alert\").hide();\n    });\n\n    $(\"#guardar\").click(function() {\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.success(\"Se ha Guardado el Producto.\", \"Felicidades!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'POST',\n            data: {\n                'data': tomarValores(),\n                'usuario': $(\"#usuario\").attr(\"class\"),\n                'modulo': $(\"#modulo\").attr(\"class\"),\n                'empresa': $(\"#empresa\").attr(\"class\")\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    mostrarTabla();\n                    $('#myModal').modal('hide');\n\n                    $('#myModal').hide();\n                    $('.modal-backdrop').hide();\n                }\n            }\n        });\n    });\n\n    $(\"#actualizar\").click(function() {\n        $(\".alert\").hide();\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.info(\"Actualizado Correctamente.\", \"Felicidades!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'PUT',\n            data: {\n                '_id': $(\"#id\").val(),\n                'data': tomarValores()\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    $(\".alert\").show();\n                    mostrarTabla();\n                }\n            }\n        });\n    });\n});\n\nfunction mostrarTabla() {\n    $.ajax({\n        url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/listar/\",\n        type: 'GET',\n        error: function(respuesta) {\n            console.log(respuesta);\n        },\n        success: function(respuesta) {\n            //console.log(JSON.stringify(respuesta));\n            mostrar(respuesta);\n            $(\".ingresar\").trigger('focus');\n        }\n    });\n}\n\n\nfunction mostrar(entrada) {\n    // se hace la adaptacion dinamica a la tabla\n    var temp = [];\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id^=\"checkbox-\"]:not([id*=\"preview\"]),div[class*=\"radio-group\"]:not([class*=\"preview\"])');\n    // se expande dinamicamente los campos que no existen ahun en base de datos\n\n    for (var i = 0; i < entrada.length; i++) {\n        temp.push({});\n        temp[i].indice = i;\n        temp[i]._id = entrada[i]._id;\n\n        for (var s = 0; s < inputs.length; s++) {\n            var label = inputs.eq(inputs.length - 1 - s).parent().find(\"label\").eq(0).text().trim();\n            if (inputs.eq(inputs.length - 1 - s).parent().find(\"label\").length > 1) {\n                label = inputs.eq(inputs.length - 1 - s).parent().parent().find(\"label\").eq(0).text().trim();\n            }\n            if (inputs.eq(s).parent().find(\"label\").length === 0) {\n                label = inputs.eq(inputs.length - 1 - s).parent().parent().find(\"label\").eq(0).text().trim();\n            }\n            label = label.replace(\"?\", \"\");\n            if (i === 0) {\n                //console.log(label);\n            }\n            temp[i][label] = '';\n            temp[i][\"Fecha de Actualización\"] = '';\n            temp[i][\"Fecha de Creación\"] = '';\n            temp[i][\"Usuario de Creación\"] = '';\n            temp[i][\"Usuario de Actualización\"] = '';\n\n        }\n        for (var f = 0; f < inputs.length; f++) {\n            if (entrada[i].data[f] !== undefined) {\n                var valor = entrada[i].data[f].valor;\n                if (entrada[i].data[f].titulo === 'Valor') {\n                  valor = \"$\" +separar(entrada[i].data[f].valor + '', ',');\n                }\n                temp[i][entrada[i].data[f].titulo] = valor;\n            }\n        }\n        var date = new Date(entrada[i].fecha_creacion);\n        var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n        temp[i][\"Fecha de Creación\"] = fecha;\n        temp[i][\"Usuario de Creación\"] = entrada[i].usuario;\n\n        if (entrada[i].data[inputs.length] !== undefined) {\n            for (var d = 0; d < entrada[i].data.length; d++) {\n                if (entrada[i].data[d].titulo === \"Fecha de Actualización\") {\n                    temp[i][\"Fecha de Actualización\"] = entrada[i].data[d].valor;\n                }\n                if (entrada[i].data[d].titulo === \"Usuario de Actualización\") {\n                    temp[i][\"Usuario de Actualización\"] = entrada[i].data[d].valor;\n                }\n            }\n\n        }\n    }\n    $(\"input[id^=date-]\").addClass(\"form-control\").attr('type', 'datetime-local');\n    table = $('#example').DataTable({\n        \"data\": temp,\n        \"order\": [\n            [1, \"asc\"]\n        ],\n        \"columns\": generarTitulosDinamicos(),\n        'columnDefs': [{\n            'targets': 0,\n            'searchable': false,\n            'orderable': false,\n            'className': 'dt-body-center',\n            'render': function(data, type, full, meta) {\n                return '<input type=\"checkbox\" class=\"' + $('<div/>').text(data).html() + '\">';\n            }\n        }],\n        \"destroy\": true,\n        select: true,\n        responsive: true,\n        altEditor: true,\n        dom: 'Bfrtip',\n        lengthMenu: [\n            [ 10, 25, 50,100,500, -1 ],\n            [ '10 Filas', '25 Filas', '50 Filas', '100 Filas', '500 Filas', 'Mostrar Todo' ]\n        ],\n        buttons: [\n              {\n                text: 'Filas',\n                extend: 'pageLength'\n              },\n              {\n                text: 'Ingresar',\n                className: 'ingresar',\n                action: function(e, dt, node, conf) {\n                    $('#id').val('');\n                    $('#myModal').modal('show');\n                    $(\"#actualizar\").hide();\n                    $(\"#guardar\").show();\n                    limpiarCampos();\n                    $(\"div[id^=imagen]\").each(function() {\n                        $(this).find(\"img\").prop(\"src\", \"/images/default.png\");\n                    });\n                    setTimeout(function() {\n                        $(\"input:visible\").eq(0).trigger('focus');\n                    }, 200);\n                }\n            },\n            {\n                text: 'Mostrar Columnas',\n                postfixButtons: ['colvisRestore'],\n                extend: 'colvis'\n            },\n            {\n                text: 'Eliminar Selección',\n                className: 'eliminar',\n                action: function(e, dt, node, conf) {\n                    if (confirm('Esta Seguro?')) {\n                        toastr.options = {\n                            closeButton: true,\n                            debug: false,\n                            newestOnTop: false,\n                            progressBar: true,\n                            positionClass: \"toast-top-center\" || 'toast-top-right',\n                            preventDuplicates: false,\n                            timeOut: \"1000\",\n                            onclick: function() {\n                                console.log(\"Toco el Mensaje\");\n                            }\n                        };\n                        //success error warning info\n                        toastr.warning(\"Los inventarios se han Eliminado!.\", \"Importante!\");\n                        $(\"input[type='checkbox']\").each(function() {\n                            if ($(this).is(\":checked\")) {\n                                $.ajax({\n                                    url: \"http://\" + window.location.hostname + \":\" + window.location.port + \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n                                    type: 'DELETE',\n                                    data: {\n                                        'id': $(this).attr(\"class\")\n                                    },\n                                    error: function(respuesta) {\n                                        console.log(\"Error \" + respuesta);\n                                    },\n                                    success: function(respuesta) {\n                                      console.log(respuesta);\n                                    }\n                                });\n                            }\n                        });\n                        setTimeout(function() {\n                          mostrarTabla();\n                        },500);\n                    }\n                }\n            },\n            {\n                extend: 'collection',\n                text: 'Exportar',\n                buttons: [{\n                    extend: 'pdfHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n\n                }, {\n                    extend: 'csvHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'copyHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'excelHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    },\n                    customize: function(xlsx) {\n                        var sheet = xlsx.xl.worksheets['sheet1.xml'];\n                        $('row c[r^=\"C\"]', sheet).attr('s', '2');\n                    }\n                }]\n            }\n        ]\n    });\n    $(\".ver\").click(ver);\n    $(\".eliminarR\").click(function() {\n      eliminar($(this).attr(\"id\"));\n    });\n    $(\"input[type=checkbox]:visible\").click(function() {\n        $(\".eliminar\").removeAttr(\"disabled\");\n        if ($(\"input[type=checkbox]:checked\").length === 0) {\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        } else {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        }\n    });\n    /**\n     * @autor:godie007\n     * @date: 2017/01/11 03:28\n     * Al momento de presionar en el check superir se seleccionan todos lo checkbox para\n     * luego ser eliminados\n     **/\n    $('#example-select-all').on('click', function() {\n        // Obtener todas las filas con la búsqueda aplicada\n        var rows = table.rows({\n            'search': 'applied'\n        }).nodes();\n        // Active o desactive las casillas de verificación de todas las filas de la tabla\n        $('input[type=\"checkbox\"]', rows).prop('checked', this.checked);\n        if ($('input[type=\"checkbox\"]', rows).is(\":checked\")) {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        } else {\n            $(\".eliminar\").css({\n                'color': 'black'\n            });\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        }\n    });\n}\nfunction separar(x, simbolo) {\n    if (x !== undefined && x !== '') {\n        return x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, simbolo);\n    }\n    return '';\n}\n"]}