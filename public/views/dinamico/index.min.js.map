{"version":3,"sources":["index.js"],"names":["generarImagen","file","index","filesSelected","files","length","fileToLoad","name","match","size","fileReader","FileReader","onload","fileLoadedEvent","newImage","document","createElement","srcData","target","result","src","style","height","width","getElementById","innerHTML","outerHTML","readAsDataURL","alert","limpiarCampos","camps","$","each","this","val","formatAMPM","d","today","h","getHours","m","getMinutes","s","getSeconds","ampm","generarCampos","setTimeout","id","attr","split","direccion","append","change","css","color","ajax","url","type","data","modulo","error","respuesta","console","log","success","window","sessionStorage","setItem","JSON","stringify","almacenados","buildWrap","querySelector","renderWrap","formData","editing","fbOptions","dataType","parse","toggleEdit","body","classList","toggle","formBuilder","formRender","str","text","indexOf","i","strLength","replace","mostrarTabla","generarTitulosDinamicos","json","inputs","inputs2","label","eq","contents","trim","w","label2","parent","find","arreglo","salida","title","cadena","k","elementos","j","push","searchable","orderable","render","row","tomarValores","items","entra","acomulado","ids","is","titulo","valor","num","img","prop","undefined","date","Date","fecha","getDate","getMonth","getFullYear","sa","mostrar","trigger","entrada","registro","temp","indice","_id","f","separar","fecha_creacion","usuario","addClass","table","DataTable","order","columns","columnDefs","targets","className","full","meta","html","destroy","select","responsive","altEditor","dom","lengthMenu","buttons","extend","action","e","dt","node","conf","modal","hide","show","postfixButtons","confirm","toastr","options","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","timeOut","onclick","warning","location","hostname","port","exportOptions","customize","xlsx","sheet","xl","worksheets","click","removeAttr","on","rows","search","nodes","checked","x","simbolo","ver","tipo","tipo2","id2","actual","eliminar","ready","outline","background-color","empresa","info"],"mappings":"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","file":"index.min.js","sourcesContent":["/**\n * @autor:godie007\n * @date: 2017/01/11 03:09\n * Esta función tiene como propocito tomar de una imagen el codigo en base64 para\n * ser usado mas adelante para subir en el servidor\n **/\nfunction generarImagen(file, index) {\n\n    var filesSelected = file.files;\n    if (filesSelected.length > 0) {\n        var fileToLoad = filesSelected[0];\n\n        if (!fileToLoad.name.match(/\\.(jpg|jpeg|png|gif|tiff|bmp|ico)$/)) {\n            alert('El archivo que intenta subir no es una Imgen');\n        } else {\n            if (fileToLoad.size / 1024 <= 1024) {\n\n                var fileReader = new FileReader();\n                fileReader.onload = function(fileLoadedEvent) {\n                    var newImage = document.createElement('img');\n                    var srcData = fileLoadedEvent.target.result; // <--- data: base64\n                    newImage.src = srcData;\n                    newImage.style.height = '80px';\n                    newImage.style.width = '80px';\n                    document.getElementById(\"imagen\" + index).innerHTML = newImage.outerHTML;\n                };\n                fileReader.readAsDataURL(fileToLoad);\n            } else {\n                alert(\"Disculpe, No se permiten Imagenes mayores a 1024 kb!\");\n            }\n        }\n    }\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:04\n * En caso de Ingresar un nuevo registro se limpian todos los campos\n **/\nfunction limpiarCampos() {\n    var camps = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n    camps.each(function() {\n        $(this).val(\"\");\n    });\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:28\n * De la fecha del sistema Actual se toma el formato PM AM\n **/\nfunction formatAMPM(d) {\n    var today = d;\n    var h = today.getHours();\n    var m = today.getMinutes();\n    var s = today.getSeconds();\n    var ampm = h >= 12 ? 'PM' : 'AM';\n    h = (h % 12 === 0) ? 12 : h % 12;\n    h = h ? h : 12; // the hour '0' should be '12'\n    m = m < 10 ? '0' + m : m;\n    s = s < 10 ? '0' + s : s;\n    return (h + ':' + m + ':' + s + ' ' + ampm);\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:21\n * En caso de presionar en el boton ver se visualiza el registro en los items construidos\n * dinamicamente\n **/\nwindow.ver = function(id){\n  $(\"#id\").val(id);\n\n  $.ajax({\n      url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/ver/\",\n      type: 'POST',\n      data: {\n          'id': id\n      },\n      error: function(respuesta) {\n          console.log(respuesta);\n      },\n      success: function(respuesta) {\n          console.log(\"Se limpian Campos\");\n          limpiarCampos();\n\n          for (var i = 0; i < respuesta.length; i++) {\n              var valor = respuesta[i].valor;\n              var id = respuesta[i].id;\n              var tipo = respuesta[i].id.split(\"-\")[0];\n              var tipo2 = respuesta[i].id.split(\"-\")[0] + \"-\" + respuesta[i].id.split(\"-\")[1];\n              if (tipo === 'textarea') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'file') {\n                  var id2 = respuesta[i].id.split(\"-\")[1];\n                  $(\"#imagen\" + id2).html(valor);\n              }\n              if (tipo === 'text') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'radio') {\n                  $(\"#\" + id).prop(\"checked\", true);\n              }\n              if (tipo === 'select') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'date') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'number') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'checkbox') {\n                  var actual = $(\"#\" + id).prop('checked');\n                  valor = valor === 'true' ? true : false;\n                  if (valor !== actual) {\n                      $(\"#\" + id).prop(\"checked\", valor);\n                  }\n              }\n              if (tipo2 === 'checkbox-group') {\n                  var ids = respuesta[i].id.split(\"/*\");\n                  for (var s = 0; s < ids.length; s++) {\n                      $(\"#\" + ids[s]).prop(\"checked\", true);\n                  }\n              }\n          }\n          setTimeout(function() {\n              $(\"input:visible\").eq(0).trigger('focus');\n          }, 200);\n          $(\"#actualizar\").show();\n          $(\"#guardar\").hide();\n      }\n  });\n};\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:21\n * Este metodo elimina un determinado registro teniendo como parametro su id\n **/\nwindow.eliminar =function (id) {\n    if (confirm('Esta Seguro?')) {\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.warning(\"El registro se ha Eliminado!.\", \"Importante!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'DELETE',\n            data: {\n                'id': id\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    mostrarTabla();\n                    console.log(respuesta);\n                }\n            }\n        });\n    }\n};\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:24\n * Este metodo se utiliza para Contruir el formulario dinamico e inyectar la funcionalidad\n * de imagenes en vista previa\n **/\nfunction generarCampos() {\n    setTimeout(function() {\n        $(\"input[id^='file-']:not([id$='preview'])\").each(function() {\n            var id = $(this).attr(\"id\").split(\"-\")[1];\n            var direccion = \"/images/default.png\";\n            $(\".field-file-\" + id).append('<div id=\"imagen' + id + '\"><img src=\"' + direccion + '\" style=\"height:80px;width:80px;\"></div>');\n            $(\"#file-\" + id).change(function() {\n                generarImagen(this, id);\n            });\n        });\n        if ($(\"input[type=checkbox]:checked\").length === 0) {\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        } else {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        }\n    }, 1000);\n\n    $.ajax({\n        url: \"/admin/formulario/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n        type: 'POST',\n        data: {\n            'modulo': $(\"#modulo\").attr(\"class\")\n        },\n        error: function(respuesta) {\n            console.log(respuesta);\n        },\n        success: function(respuesta) {\n            $(\"#panel\").css('visibility', 'hidden');\n            if (respuesta.length > 0) {\n                window.sessionStorage.setItem('formData', JSON.stringify(JSON.stringify(respuesta)));\n            }\n\n            var almacenados = JSON.stringify(JSON.stringify(respuesta));\n            var buildWrap = document.querySelector('.build-wrap'),\n                renderWrap = document.querySelector('.render-wrap'),\n                formData = almacenados,\n                editing = true,\n                fbOptions = {\n                    dataType: 'json'\n                };\n\n            if (formData) {\n                fbOptions.formData = JSON.parse(formData);\n            }\n\n            var toggleEdit = function() {\n                document.body.classList.toggle('form-rendered', editing);\n                editing = !editing;\n            };\n\n            var formBuilder = $(buildWrap).formBuilder(fbOptions).data('formBuilder');\n            toggleEdit();\n            $(renderWrap).formRender({\n                dataType: 'json',\n                formData: formBuilder.formData\n            });\n\n            $(\"label\").each(function(){\n              var str = $(this).text();\n              if (str.indexOf(\"_\") !== -1) {\n                  var i = 0, strLength = str.length;\n                  for(i; i < strLength; i++) {\n                   str = str.replace(\"_\", \" \");\n                  }\n                  $(this).text(str);\n                }\n              });\n            mostrarTabla();\n        }\n    });\n\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:17\n * Este metodo analiza la informacion de formulario contruido dinamicamente\n * y saca sus etiquetas para dar los titulos a la tabla del plugin datatable\n **/\nfunction generarTitulosDinamicos() {\n\n    var json = '[';\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n    var inputs2 = $('div[class*=\"field-checkbox-group\"]:not([class*=\"preview\"])');\n\n    for (var i = 0; i < inputs2.length; i++) {\n        json += '{';\n        var label = inputs2.eq(i).contents().eq(0).text().trim();\n\n        json += '\"label\":\"' + label.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"\"';\n        json += '},';\n    }\n    for (var w = 0; w < inputs.length; w++) {\n        var label2;\n        json += '{';\n        label2 = inputs.eq(w).parent().find(\"label\").text().trim();\n        if (inputs.eq(w).parent().find(\"label\").length > 1) {\n            label2 = inputs.eq(w).parent().parent().find(\"label\").eq(0).text().trim();\n        }\n        if (inputs.eq(w).parent().find(\"label\").length === 0) {\n            label2 = inputs.eq(w).parent().parent().find(\"label\").text();\n        }\n        json += '\"label\":\"' + label2.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"\"';\n        json += '},';\n    }\n    json += '{\"label\":\"Usuario de Creación\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Fecha de Creación\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Usuario de Actualización\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Fecha de Actualización\",';\n    json += '\"valor\":\"\"}';\n    json += ']';\n\n    var arreglo = JSON.parse(json);\n\n    var salida = [{\n        \"data\": \"_id\",\n        title: \"<input type='checkbox' id='example-select-all'>\"\n    }, {\n        \"data\": \"indice\",\n        title: \"N°\"\n    }];\n\n    var cadena = '[';\n\n    for (var k = 0; k < arreglo.length; k++) {\n        cadena += '{\"data\": \"' + arreglo[k].label + '\",\"title\": \"' + arreglo[k].label + '\"}';\n        if (k !== arreglo.length - 1) {\n            cadena += ',';\n        }\n    }\n    cadena += ']';\n    var elementos = JSON.parse(cadena);\n\n    for (var j = 0; j < elementos.length; j++) {\n        salida.push(elementos[j]);\n    }\n\n    salida.push({\n        \"data\": \"_id\",\n        title: \"Acción\",\n        'searchable': false,\n        'orderable': false,\n        render: function(data, type, row) {\n            return '<div class=\"btn-group\"><button type=\"button\" data-toggle=\"modal\" onclick=\"ver(&quot;'+data+'&quot;);\" data-target=\"#myModal\" class=\"btn btn-default\" >Editar</button><button type=\"button\" onclick=\"eliminar(&quot;'+data+'&quot;);\"class=\"btn btn-default\" >Eliminar</button></div>';\n        }\n    });\n    return salida;\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:20\n * El proposito de este metodo es tomar los valores de los items construidos dinamicamente\n * y retornarlos en una estructura JSON para luego ser almacenados en base de datos\n **/\nfunction tomarValores() {\n    var json = '[';\n\n    var inputs2 = $('div[class*=\"field-checkbox-group\"]:not([class*=\"preview\"])');\n\n    for (var i = 0; i < inputs2.length; i++) {\n        var items = $(inputs2[i]).find(\"label\");\n        var entra = $(inputs2[i]).find(\"input\");\n        json += '{';\n        var acomulado = '';\n        var ids = '';\n        for (var s = 1; s < items.length; s++) {\n            var data = $(items[s]).text().trim();\n            if ($(entra[s - 1]).is(\":checked\")) {\n                acomulado += data + '<br>';\n                ids += $(entra[s - 1]).attr(\"id\");\n            }\n            if (data !== '') {\n                if (s < items.length - 1) {\n                    ids += '/*';\n                }\n            }\n        }\n\n        var label = inputs2.eq(i).contents().eq(0).text().trim();\n        json += '\"titulo\":\"' + label.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"' + acomulado + '\",';\n        json += '\"id\":\"' + ids + '\"';\n        json += '},';\n    }\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n\n    for (var d = inputs.length - 1; d >= 0; d--) {\n        if (inputs.eq(d).length > 0) {\n\n            var titulo = inputs.eq(d).parent().find(\"label\").eq(0).text().trim();\n            var valor = inputs.eq(d).val() === '' ? ' ' : inputs.eq(d).val();\n\n            if (inputs.eq(d).attr(\"id\").indexOf(\"radio-group\") !== -1) {\n                titulo = inputs.eq(d).parent().parent().find(\"label\").eq(0).text().trim();\n                var num = inputs.eq(d).attr(\"id\").split(\"-\")[3];\n                valor = inputs.eq(d).parent().find(\"label\").eq(num).text().trim();\n            }\n\n            if (inputs.eq(d).attr(\"id\").indexOf(\"select-\") !== -1) {\n                valor = inputs.eq(d).find(\"option:selected\").val();\n            }\n            if (inputs.eq(d).attr(\"id\").indexOf(\"file-\") !== -1) {\n                var id = inputs.eq(d).attr(\"id\").split(\"-\")[1];\n                var img = $(\"#imagen\" + id + \" img\").prop(\"src\");\n                if (img === undefined || img === '') {\n                    img = '/images/default.png';\n                }\n                valor = '<img src=' + img + ' style=height:80px;width:80px;>';\n            }\n            if (inputs.eq(d).attr(\"id\").indexOf(\"checkbox-\") !== -1) {\n                if (inputs.eq(d).parent().find(\"label\").length === 0) {\n                    titulo = inputs.eq(d).parent().parent().find(\"label\").text().trim();\n                } else {\n                    titulo = inputs.eq(d).parent().find(\"label\").text().trim();\n                }\n\n                valor = $(\"#\" + inputs.eq(d).attr(\"id\")).is(':checked');\n            }\n            json += '{\"id\":\"' + inputs.eq(d).attr(\"id\") + '\",';\n            json += '\"titulo\":\"' + titulo.replace(\"?\", \"\") + '\",';\n            json += '\"valor\":\"' + valor + '\"}';\n        }\n        if (d > 0 && $(\"#id\").val() === \"\") {\n            json += \",\";\n        }\n        if ($(\"#id\").val() !== \"\") {\n            json += \",\";\n        }\n    }\n    if ($(\"#id\").val() !== \"\") {\n\n        var date = new Date();\n        var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n\n        json += '{\"id\":\"usuAct\",';\n        json += '\"titulo\":\"Usuario de Actualización\",';\n        json += '\"valor\":\"' + $(\"#usuario\").attr(\"class\") + '\"},';\n        json += '{\"id\":\"fechaC\",';\n        json += '\"titulo\":\"Fecha de Actualización\",';\n        json += '\"valor\":\"' + fecha + '\"}';\n    }\n    json += ']';\n    var sa = JSON.parse(json);\n    return sa;\n}\n\n$(document).ready(function() {\n\n    generarCampos();\n\n\n\n    $(\"#menuContactos\").click();\n    $(\"#menuCientes\").click();\n    $(\"#in_3\").css({\n        'outline': 'none',\n        'background-color': '#393a39',\n        'color': 'white'\n    });\n\n    $(\"#actualizar\").hide();\n    $(\".alert\").hide();\n    $(\"#guardar\").show();\n\n    $(\"#ingresar\").click(function() {\n        $(\"#guardar\").show();\n        $(\"#actualizar\").hide();\n        $(\"input,textarea\").val(\"\");\n        $(\".alert\").hide();\n    });\n\n    $(\"#guardar\").click(function() {\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.success(\"Se ha Guardado el Producto.\", \"Felicidades!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'POST',\n            data: {\n                'data': tomarValores(),\n                'usuario': $(\"#usuario\").attr(\"class\"),\n                'modulo': $(\"#modulo\").attr(\"class\"),\n                'empresa': $(\"#empresa\").attr(\"class\")\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    mostrarTabla();\n                    $('#myModal').modal('hide');\n\n                    $('#myModal').hide();\n                    $('.modal-backdrop').hide();\n                }\n            }\n        });\n    });\n\n    $(\"#actualizar\").click(function() {\n        $(\".alert\").hide();\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.info(\"Actualizado Correctamente.\", \"Felicidades!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'PUT',\n            data: {\n                '_id': $(\"#id\").val(),\n                'data': tomarValores()\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    $(\".alert\").show();\n                    mostrarTabla();\n                }\n            }\n        });\n    });\n});\n\nfunction mostrarTabla() {\n    $.ajax({\n        url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/listar/\",\n        type: 'GET',\n        error: function(respuesta) {\n            console.log(respuesta);\n        },\n        success: function(respuesta) {\n            //console.log(JSON.stringify(respuesta));\n            mostrar(respuesta);\n            $(\".ingresar\").trigger('focus');\n        }\n    });\n}\n\nwindow.registro = [];\nfunction mostrar(entrada) {\n  registro = entrada;\n    // se hace la adaptacion dinamica a la tabla\n    var temp = [];\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id^=\"checkbox-\"]:not([id*=\"preview\"]),div[class*=\"radio-group\"]:not([class*=\"preview\"])');\n    // se expande dinamicamente los campos que no existen ahun en base de datos\n\n    for (var i = 0; i < entrada.length; i++) {\n        temp.push({});\n        temp[i].indice = i;\n        temp[i]._id = entrada[i]._id;\n\n        for (var s = 0; s < inputs.length; s++) {\n            var label = inputs.eq(inputs.length - 1 - s).parent().find(\"label\").eq(0).text().trim();\n            if (inputs.eq(inputs.length - 1 - s).parent().find(\"label\").length > 1) {\n                label = inputs.eq(inputs.length - 1 - s).parent().parent().find(\"label\").eq(0).text().trim();\n            }\n            if (inputs.eq(s).parent().find(\"label\").length === 0) {\n                label = inputs.eq(inputs.length - 1 - s).parent().parent().find(\"label\").eq(0).text().trim();\n            }\n            label = label.replace(\"?\", \"\");\n            temp[i][label] = '';\n            temp[i][\"Fecha de Actualización\"] = '';\n            temp[i][\"Fecha de Creación\"] = '';\n            temp[i][\"Usuario de Creación\"] = '';\n            temp[i][\"Usuario de Actualización\"] = '';\n\n        }\n        for (var f = 0; f < inputs.length; f++) {\n            if (entrada[i].data[f] !== undefined) {\n                var valor = entrada[i].data[f].valor;\n                if (entrada[i].data[f].titulo === 'Valor') {\n                  valor = \"$\" +separar(entrada[i].data[f].valor + '', ',');\n                }\n                temp[i][entrada[i].data[f].titulo] = valor;\n            }\n        }\n        var date = new Date(entrada[i].fecha_creacion);\n        var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n        temp[i][\"Fecha de Creación\"] = fecha;\n        temp[i][\"Usuario de Creación\"] = entrada[i].usuario;\n\n        if (entrada[i].data[inputs.length] !== undefined) {\n            for (var d = 0; d < entrada[i].data.length; d++) {\n                if (entrada[i].data[d].titulo === \"Fecha de Actualización\") {\n                    temp[i][\"Fecha de Actualización\"] = entrada[i].data[d].valor;\n                }\n                if (entrada[i].data[d].titulo === \"Usuario de Actualización\") {\n                    temp[i][\"Usuario de Actualización\"] = entrada[i].data[d].valor;\n                }\n            }\n\n        }\n    }\n    $(\"input[id^=date-]\").addClass(\"form-control\").attr('type', 'datetime-local');\n    table = $('#example').DataTable({\n        \"data\": temp,\n        \"order\": [\n            [1, \"asc\"]\n        ],\n        \"columns\": generarTitulosDinamicos(),\n        'columnDefs': [{\n            'targets': 0,\n            'searchable': false,\n            'orderable': false,\n            'className': 'dt-body-center',\n            'render': function(data, type, full, meta) {\n                return '<input type=\"checkbox\" class=\"' + $('<div/>').text(data).html() + '\">';\n            }\n        }],\n        \"destroy\": true,\n        select: true,\n        responsive: true,\n        altEditor: true,\n        dom: 'Bfrtip',\n        lengthMenu: [\n            [ 10, 25, 50,100,500, -1 ],\n            [ '10 Filas', '25 Filas', '50 Filas', '100 Filas', '500 Filas', 'Mostrar Todo' ]\n        ],\n        buttons: [\n              {\n                text: 'Filas',\n                extend: 'pageLength'\n              },\n              {\n                text: 'Ingresar',\n                className: 'ingresar',\n                action: function(e, dt, node, conf) {\n                    $('#id').val('');\n                    $('#myModal').modal('show');\n                    $(\"#actualizar\").hide();\n                    $(\"#guardar\").show();\n                    limpiarCampos();\n                    $(\"div[id^=imagen]\").each(function() {\n                        $(this).find(\"img\").prop(\"src\", \"/images/default.png\");\n                    });\n                    setTimeout(function() {\n                        $(\"input:visible\").eq(0).trigger('focus');\n                    }, 200);\n                }\n            },\n            {\n                text: 'Mostrar Columnas',\n                postfixButtons: ['colvisRestore'],\n                extend: 'colvis'\n            },\n            {\n                text: 'Eliminar Selección',\n                className: 'eliminar',\n                action: function(e, dt, node, conf) {\n                    if (confirm('Esta Seguro?')) {\n                        toastr.options = {\n                            closeButton: true,\n                            debug: false,\n                            newestOnTop: false,\n                            progressBar: true,\n                            positionClass: \"toast-top-center\" || 'toast-top-right',\n                            preventDuplicates: false,\n                            timeOut: \"1000\",\n                            onclick: function() {\n                                console.log(\"Toco el Mensaje\");\n                            }\n                        };\n                        //success error warning info\n                        toastr.warning(\"Los inventarios se han Eliminado!.\", \"Importante!\");\n                        $(\"input[type='checkbox']\").each(function() {\n                            if ($(this).is(\":checked\")) {\n                                $.ajax({\n                                    url: \"http://\" + window.location.hostname + \":\" + window.location.port + \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n                                    type: 'DELETE',\n                                    data: {\n                                        'id': $(this).attr(\"class\")\n                                    },\n                                    error: function(respuesta) {\n                                        console.log(\"Error \" + respuesta);\n                                    },\n                                    success: function(respuesta) {\n                                      console.log(respuesta);\n                                    }\n                                });\n                            }\n                        });\n                        setTimeout(function() {\n                          mostrarTabla();\n                        },500);\n                    }\n                }\n            },\n            {\n                extend: 'collection',\n                text: 'Exportar',\n                buttons: [{\n                    extend: 'pdfHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n\n                }, {\n                    extend: 'csvHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'copyHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'excelHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    },\n                    customize: function(xlsx) {\n                        var sheet = xlsx.xl.worksheets['sheet1.xml'];\n                        $('row c[r^=\"C\"]', sheet).attr('s', '2');\n                    }\n                }]\n            }\n        ]\n    });\n\n    $(\"input[type=checkbox]:visible\").click(function() {\n        $(\".eliminar\").removeAttr(\"disabled\");\n        if ($(\"input[type=checkbox]:checked\").length === 0) {\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        } else {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        }\n    });\n    /**\n     * @autor:godie007\n     * @date: 2017/01/11 03:28\n     * Al momento de presionar en el check superir se seleccionan todos lo checkbox para\n     * luego ser eliminados\n     **/\n    $('#example-select-all').on('click', function() {\n        // Obtener todas las filas con la búsqueda aplicada\n        var rows = table.rows({\n            'search': 'applied'\n        }).nodes();\n        // Active o desactive las casillas de verificación de todas las filas de la tabla\n        $('input[type=\"checkbox\"]', rows).prop('checked', this.checked);\n        if ($('input[type=\"checkbox\"]', rows).is(\":checked\")) {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        } else {\n            $(\".eliminar\").css({\n                'color': 'black'\n            });\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        }\n    });\n}\nfunction separar(x, simbolo) {\n    if (x !== undefined && x !== '') {\n        return x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, simbolo);\n    }\n    return '';\n}\n"]}