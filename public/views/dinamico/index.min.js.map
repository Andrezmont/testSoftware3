{"version":3,"sources":["index.js"],"names":["generarImagen","file","index","filesSelected","files","length","fileToLoad","name","match","size","fileReader","FileReader","onload","fileLoadedEvent","newImage","document","createElement","srcData","target","result","src","style","height","width","getElementById","innerHTML","outerHTML","readAsDataURL","alert","limpiarCampos","$","each","this","val","formatAMPM","d","today","h","getHours","m","getMinutes","s","getSeconds","ampm","generarCampos","setTimeout","id","attr","split","append","change","css","color","ajax","url","type","data","modulo","error","respuesta","console","log","success","window","sessionStorage","setItem","JSON","stringify","almacenados","buildWrap","querySelector","renderWrap","formData","editing","fbOptions","dataType","parse","toggleEdit","body","classList","toggle","formBuilder","formRender","str","text","indexOf","i","strLength","replace","mostrarTabla","generarTitulosDinamicos","json","inputs","inputs2","eq","contents","trim","w","label2","parent","find","arreglo","salida","title","cadena","k","label","elementos","j","push","searchable","orderable","render","row","tomarValores","items","entra","acomulado","ids","is","titulo","valor","num","img","prop","undefined","date","Date","fecha","getDate","getMonth","getFullYear","mostrar","trigger","entrada","registro","temp","indice","_id","f","separar","fecha_creacion","usuario","addClass","table","DataTable","order","columns","columnDefs","targets","className","full","meta","html","destroy","select","responsive","altEditor","dom","stateSave","lengthMenu","buttons","extend","action","e","dt","node","conf","modal","hide","show","postfixButtons","confirm","toastr","options","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","timeOut","onclick","warning","location","hostname","port","exportOptions","customize","xlsx","sheet","xl","worksheets","click","removeAttr","on","rows","search","nodes","checked","x","simbolo","ver","tipo","tipo2","id2","actual","eliminar","ready","outline","background-color","empresa","info"],"mappings":"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","file":"index.min.js","sourcesContent":["/**\n * @autor:godie007\n * @date: 2017/01/11 03:09\n * Esta función tiene como propocito tomar de una imagen el codigo en base64 para\n * ser usado mas adelante para subir en el servidor\n **/\nfunction generarImagen(file, index) {\n\n    var filesSelected = file.files;\n    if (filesSelected.length > 0) {\n        var fileToLoad = filesSelected[0];\n\n        if (!fileToLoad.name.match(/\\.(jpg|jpeg|png|gif|tiff|bmp|ico)$/)) {\n            alert('El archivo que intenta subir no es una Imgen');\n        } else {\n            if (fileToLoad.size / 1024 <= 1024) {\n\n                var fileReader = new FileReader();\n                fileReader.onload = function(fileLoadedEvent) {\n                    var newImage = document.createElement('img');\n                    var srcData = fileLoadedEvent.target.result; // <--- data: base64\n                    newImage.src = srcData;\n                    newImage.style.height = '80px';\n                    newImage.style.width = '80px';\n                    document.getElementById(\"imagen\" + index).innerHTML = newImage.outerHTML;\n                };\n                fileReader.readAsDataURL(fileToLoad);\n            } else {\n                alert(\"Disculpe, No se permiten Imagenes mayores a 1024 kb!\");\n            }\n        }\n    }\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:04\n * En caso de Ingresar un nuevo registro se limpian todos los campos\n **/\nfunction limpiarCampos() {\n    var camps = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n    camps.each(function() {\n        $(this).val(\"\");\n    });\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:28\n * De la fecha del sistema Actual se toma el formato PM AM\n **/\nfunction formatAMPM(d) {\n    var today = d;\n    var h = today.getHours();\n    var m = today.getMinutes();\n    var s = today.getSeconds();\n    var ampm = h >= 12 ? 'PM' : 'AM';\n    h = (h % 12 === 0) ? 12 : h % 12;\n    h = h ? h : 12; // the hour '0' should be '12'\n    m = m < 10 ? '0' + m : m;\n    s = s < 10 ? '0' + s : s;\n    return (h + ':' + m + ':' + s + ' ' + ampm);\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:21\n * En caso de presionar en el boton ver se visualiza el registro en los items construidos\n * dinamicamente\n **/\nwindow.ver = function(id){\n  $(\"#id\").val(id);\n\n  $.ajax({\n      url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/ver/\",\n      type: 'POST',\n      data: {\n          'id': id\n      },\n      error: function(respuesta) {\n          console.log(respuesta);\n      },\n      success: function(respuesta) {\n          console.log(\"Se limpian Campos\");\n          limpiarCampos();\n\n          for (var i = 0; i < respuesta.length; i++) {\n              var valor = respuesta[i].valor;\n              var id = respuesta[i].id;\n              var tipo = respuesta[i].id.split(\"-\")[0];\n              var tipo2 = respuesta[i].id.split(\"-\")[0] + \"-\" + respuesta[i].id.split(\"-\")[1];\n              if (tipo === 'textarea') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'file') {\n                  var id2 = respuesta[i].id.split(\"-\")[1];\n                  $(\"#imagen\" + id2).html(valor);\n              }\n              if (tipo === 'text') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'radio') {\n                  $(\"#\" + id).prop(\"checked\", true);\n              }\n              if (tipo === 'select') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'date') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'number') {\n                  $(\"#\" + id).val(valor);\n              }\n              if (tipo === 'checkbox') {\n                  var actual = $(\"#\" + id).prop('checked');\n                  valor = valor === 'true' ? true : false;\n                  if (valor !== actual) {\n                      $(\"#\" + id).prop(\"checked\", valor);\n                  }\n              }\n              if (tipo2 === 'checkbox-group') {\n                  var ids = respuesta[i].id.split(\"/*\");\n                  for (var s = 0; s < ids.length; s++) {\n                      $(\"#\" + ids[s]).prop(\"checked\", true);\n                  }\n              }\n          }\n          setTimeout(function() {\n              $(\"input:visible\").eq(0).trigger('focus');\n          }, 200);\n          $(\"#actualizar\").show();\n          $(\"#guardar\").hide();\n      }\n  });\n};\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:21\n * Este metodo elimina un determinado registro teniendo como parametro su id\n **/\nwindow.eliminar =function (id) {\n    if (confirm('Esta Seguro?')) {\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.warning(\"El registro se ha Eliminado!.\", \"Importante!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'DELETE',\n            data: {\n                'id': id\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    mostrarTabla();\n                    console.log(respuesta);\n                }\n            }\n        });\n    }\n};\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:24\n * Este metodo se utiliza para Contruir el formulario dinamico e inyectar la funcionalidad\n * de imagenes en vista previa\n **/\nfunction generarCampos() {\n    setTimeout(function() {\n        $(\"input[id^='file-']:not([id$='preview'])\").each(function() {\n            var id = $(this).attr(\"id\").split(\"-\")[1];\n            var direccion = \"/images/default.png\";\n            $(\".field-file-\" + id).append('<div id=\"imagen' + id + '\"><img src=\"' + direccion + '\" style=\"height:80px;width:80px;\"></div>');\n            $(\"#file-\" + id).change(function() {\n                generarImagen(this, id);\n            });\n        });\n        if ($(\"input[type=checkbox]:checked\").length === 0) {\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        } else {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        }\n    }, 1000);\n\n    $.ajax({\n        url: \"/admin/formulario/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n        type: 'POST',\n        data: {\n            'modulo': $(\"#modulo\").attr(\"class\")\n        },\n        error: function(respuesta) {\n            console.log(respuesta);\n        },\n        success: function(respuesta) {\n            $(\"#panel\").css('visibility', 'hidden');\n            if (respuesta.length > 0) {\n                window.sessionStorage.setItem('formData', JSON.stringify(JSON.stringify(respuesta)));\n            }\n\n            var almacenados = JSON.stringify(JSON.stringify(respuesta));\n            var buildWrap = document.querySelector('.build-wrap'),\n                renderWrap = document.querySelector('.render-wrap'),\n                formData = almacenados,\n                editing = true,\n                fbOptions = {\n                    dataType: 'json'\n                };\n\n            if (formData) {\n                fbOptions.formData = JSON.parse(formData);\n            }\n\n            var toggleEdit = function() {\n                document.body.classList.toggle('form-rendered', editing);\n                editing = !editing;\n            };\n\n            var formBuilder = $(buildWrap).formBuilder(fbOptions).data('formBuilder');\n            toggleEdit();\n            $(renderWrap).formRender({\n                dataType: 'json',\n                formData: formBuilder.formData\n            });\n\n            $(\"label\").each(function(){\n              var str = $(this).text();\n              if (str.indexOf(\"_\") !== -1) {\n                  var i = 0, strLength = str.length;\n                  for(i; i < strLength; i++) {\n                   str = str.replace(\"_\", \" \");\n                  }\n                  $(this).text(str);\n                }\n              });\n            mostrarTabla();\n        }\n    });\n\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:17\n * Este metodo analiza la informacion de formulario contruido dinamicamente\n * y saca sus etiquetas para dar los titulos a la tabla del plugin datatable\n **/\nfunction generarTitulosDinamicos() {\n\n    var json = '[';\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n    var inputs2 = $('div[class*=\"field-checkbox-group\"]:not([class*=\"preview\"])');\n\n    for (var i = 0; i < inputs2.length; i++) {\n        json += '{';\n        var label = inputs2.eq(i).contents().eq(0).text().trim();\n\n        json += '\"label\":\"' + label.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"\"';\n        json += '},';\n    }\n    for (var w = 0; w < inputs.length; w++) {\n        var label2;\n        json += '{';\n        label2 = inputs.eq(w).parent().find(\"label\").text().trim();\n        if (inputs.eq(w).parent().find(\"label\").length > 1) {\n            label2 = inputs.eq(w).parent().parent().find(\"label\").eq(0).text().trim();\n        }\n        if (inputs.eq(w).parent().find(\"label\").length === 0) {\n            label2 = inputs.eq(w).parent().parent().find(\"label\").text();\n        }\n        json += '\"label\":\"' + label2.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"\"';\n        json += '},';\n    }\n    json += '{\"label\":\"Usuario de Creación\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Fecha de Creación\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Usuario de Actualización\",';\n    json += '\"valor\":\"\"},';\n    json += '{\"label\":\"Fecha de Actualización\",';\n    json += '\"valor\":\"\"}';\n    json += ']';\n\n    var arreglo = JSON.parse(json);\n\n    var salida = [{\n        \"data\": \"_id\",\n        title: \"<input type='checkbox' id='example-select-all'>\"\n    }, {\n        \"data\": \"indice\",\n        title: \"N°\"\n    }];\n\n    var cadena = '[';\n\n    for (var k = 0; k < arreglo.length; k++) {\n        cadena += '{\"data\": \"' + arreglo[k].label + '\",\"title\": \"' + arreglo[k].label + '\"}';\n        if (k !== arreglo.length - 1) {\n            cadena += ',';\n        }\n    }\n    cadena += ']';\n    var elementos = JSON.parse(cadena);\n\n    for (var j = 0; j < elementos.length; j++) {\n        salida.push(elementos[j]);\n    }\n\n    salida.push({\n        \"data\": \"_id\",\n        title: \"Acción\",\n        'searchable': false,\n        'orderable': false,\n        render: function(data, type, row) {\n            return '<div class=\"btn-group\"><button type=\"button\" data-toggle=\"modal\" onclick=\"ver(&quot;'+data+'&quot;);\" data-target=\"#myModal\" class=\"btn btn-default\" >Editar</button><button type=\"button\" onclick=\"eliminar(&quot;'+data+'&quot;);\"class=\"btn btn-default\" >Eliminar</button></div>';\n        }\n    });\n    return salida;\n}\n/**\n * @autor:godie007\n * @date: 2017/01/11 03:20\n * El proposito de este metodo es tomar los valores de los items construidos dinamicamente\n * y retornarlos en una estructura JSON para luego ser almacenados en base de datos\n **/\nfunction tomarValores() {\n    var json = '[';\n\n    var inputs2 = $('div[class*=\"field-checkbox-group\"]:not([class*=\"preview\"])');\n\n    for (var i = 0; i < inputs2.length; i++) {\n        var items = $(inputs2[i]).find(\"label\");\n        var entra = $(inputs2[i]).find(\"input\");\n        json += '{';\n        var acomulado = '';\n        var ids = '';\n        for (var s = 1; s < items.length; s++) {\n            var data = $(items[s]).text().trim();\n            if ($(entra[s - 1]).is(\":checked\")) {\n                acomulado += data + '<br>';\n                ids += $(entra[s - 1]).attr(\"id\");\n            }\n            if (data !== '') {\n                if (s < items.length - 1) {\n                    ids += '/*';\n                }\n            }\n        }\n\n        var label = inputs2.eq(i).contents().eq(0).text().trim();\n        json += '\"titulo\":\"' + label.replace(\"?\", \"\") + '\",';\n        json += '\"valor\":\"' + acomulado + '\",';\n        json += '\"id\":\"' + ids + '\"';\n        json += '},';\n    }\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id*=\"checkbox\"]:not([id*=\"preview\"]):not([id*=\"group\"])');\n\n    for (var d = inputs.length - 1; d >= 0; d--) {\n        if (inputs.eq(d).length > 0) {\n\n            var titulo = inputs.eq(d).parent().find(\"label\").eq(0).text().trim();\n            var valor = inputs.eq(d).val() === '' ? ' ' : inputs.eq(d).val();\n\n            if (inputs.eq(d).attr(\"id\").indexOf(\"radio-group\") !== -1) {\n                titulo = inputs.eq(d).parent().parent().find(\"label\").eq(0).text().trim();\n                var num = inputs.eq(d).attr(\"id\").split(\"-\")[3];\n                valor = inputs.eq(d).parent().find(\"label\").eq(num).text().trim();\n            }\n\n            if (inputs.eq(d).attr(\"id\").indexOf(\"select-\") !== -1) {\n                valor = inputs.eq(d).find(\"option:selected\").val();\n            }\n            if (inputs.eq(d).attr(\"id\").indexOf(\"file-\") !== -1) {\n                var id = inputs.eq(d).attr(\"id\").split(\"-\")[1];\n                var img = $(\"#imagen\" + id + \" img\").prop(\"src\");\n                if (img === undefined || img === '') {\n                    img = '/images/default.png';\n                }\n                valor = '<img src=' + img + ' style=height:80px;width:80px;>';\n            }\n            if (inputs.eq(d).attr(\"id\").indexOf(\"checkbox-\") !== -1) {\n                if (inputs.eq(d).parent().find(\"label\").length === 0) {\n                    titulo = inputs.eq(d).parent().parent().find(\"label\").text().trim();\n                } else {\n                    titulo = inputs.eq(d).parent().find(\"label\").text().trim();\n                }\n\n                valor = $(\"#\" + inputs.eq(d).attr(\"id\")).is(':checked');\n            }\n            json += '{\"id\":\"' + inputs.eq(d).attr(\"id\") + '\",';\n            json += '\"titulo\":\"' + titulo.replace(\"?\", \"\") + '\",';\n            json += '\"valor\":\"' + valor + '\"}';\n        }\n        if (d > 0 && $(\"#id\").val() === \"\") {\n            json += \",\";\n        }\n        if ($(\"#id\").val() !== \"\") {\n            json += \",\";\n        }\n    }\n    if ($(\"#id\").val() !== \"\") {\n\n        var date = new Date();\n        var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n\n        json += '{\"id\":\"usuAct\",';\n        json += '\"titulo\":\"Usuario de Actualización\",';\n        json += '\"valor\":\"' + $(\"#usuario\").attr(\"class\") + '\"},';\n        json += '{\"id\":\"fechaC\",';\n        json += '\"titulo\":\"Fecha de Actualización\",';\n        json += '\"valor\":\"' + fecha + '\"}';\n    }\n    json += ']';\n    var sa = JSON.parse(json);\n    return sa;\n}\n\n$(document).ready(function() {\n\n    generarCampos();\n\n\n\n    $(\"#menuContactos\").click();\n    $(\"#menuCientes\").click();\n    $(\"#in_3\").css({\n        'outline': 'none',\n        'background-color': '#393a39',\n        'color': 'white'\n    });\n\n    $(\"#actualizar\").hide();\n    $(\".alert\").hide();\n    $(\"#guardar\").show();\n\n    $(\"#ingresar\").click(function() {\n        $(\"#guardar\").show();\n        $(\"#actualizar\").hide();\n        $(\"input,textarea\").val(\"\");\n        $(\".alert\").hide();\n    });\n\n    $(\"#guardar\").click(function() {\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.success(\"Se ha Guardado el Producto.\", \"Felicidades!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'POST',\n            data: {\n                'data': tomarValores(),\n                'usuario': $(\"#usuario\").attr(\"class\"),\n                'modulo': $(\"#modulo\").attr(\"class\"),\n                'empresa': $(\"#empresa\").attr(\"class\")\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    mostrarTabla();\n                    $('#myModal').modal('hide');\n\n                    $('#myModal').hide();\n                    $('.modal-backdrop').hide();\n                }\n            }\n        });\n    });\n\n    $(\"#actualizar\").click(function() {\n        $(\".alert\").hide();\n        toastr.options = {\n            closeButton: true,\n            debug: false,\n            newestOnTop: false,\n            progressBar: true,\n            positionClass: \"toast-top-center\" || 'toast-top-right',\n            preventDuplicates: false,\n            timeOut: \"1000\",\n            onclick: function() {\n                console.log(\"Toco el Mensaje\");\n            }\n        };\n        //success error warning info\n        toastr.info(\"Actualizado Correctamente.\", \"Felicidades!\");\n        $.ajax({\n            url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n            type: 'PUT',\n            data: {\n                '_id': $(\"#id\").val(),\n                'data': tomarValores()\n            },\n            error: function(respuesta) {\n                console.log(respuesta);\n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    $(\".alert\").show();\n                    mostrarTabla();\n                }\n            }\n        });\n    });\n});\n/**\n* @autor:godie007\n* @date: 2017/05/01 11:03\n* Funcion para generar una tabla en base al plugin datatable al hacer una\n* petición ajax al modulo dinamico que lo necesite\n**/\nfunction mostrarTabla() {\n    $.ajax({\n        url: \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/listar/\",\n        type: 'GET',\n        error: function(respuesta) {\n            console.log(respuesta);\n        },\n        success: function(respuesta) {\n            mostrar(respuesta);\n            $(\".ingresar\").trigger('focus');\n        }\n    });\n}\n\nwindow.registro = [];\n/**\n* @autor:godie007\n* @date: 2017/05/01 11:59\n* este metodo se encarga de generar en base a un json y a los titulos dinamicos del\n* formbuilder una tabla adapatable\n**/\nfunction mostrar(entrada) {\n  registro = entrada;\n    // se hace la adaptacion dinamica a la tabla\n    var temp = [];\n    var inputs = $('input[type=datetime-local]:not([id*=\"preview\"]),input[type=file]:not([id*=\"preview\"]),input[id^=\"number-\"]:not([id*=\"preview\"]),input[id^=\"text-\"]:not([id*=\"preview\"]),textarea[id^=\"textarea-\"]:not([id*=\"preview\"]),select[id^=\"select-\"]:not([id*=\"preview\"]),input[id^=\"radio-group-\"]:checked:not([id*=\"preview\"]),input[id^=\"checkbox-\"]:not([id*=\"preview\"]),div[class*=\"radio-group\"]:not([class*=\"preview\"])');\n    // se expande dinamicamente los campos que no existen ahun en base de datos\n\n    for (var i = 0; i < entrada.length; i++) {\n        temp.push({});\n        temp[i].indice = i;\n        temp[i]._id = entrada[i]._id;\n\n        for (var s = 0; s < inputs.length; s++) {\n            var label = inputs.eq(inputs.length - 1 - s).parent().find(\"label\").eq(0).text().trim();\n            if (inputs.eq(inputs.length - 1 - s).parent().find(\"label\").length > 1) {\n                label = inputs.eq(inputs.length - 1 - s).parent().parent().find(\"label\").eq(0).text().trim();\n            }\n            if (inputs.eq(s).parent().find(\"label\").length === 0) {\n                label = inputs.eq(inputs.length - 1 - s).parent().parent().find(\"label\").eq(0).text().trim();\n            }\n            label = label.replace(\"?\", \"\");\n            temp[i][label] = '';\n            temp[i][\"Fecha de Actualización\"] = '';\n            temp[i][\"Fecha de Creación\"] = '';\n            temp[i][\"Usuario de Creación\"] = '';\n            temp[i][\"Usuario de Actualización\"] = '';\n\n        }\n        for (var f = 0; f < inputs.length; f++) {\n            if (entrada[i].data[f] !== undefined) {\n                var valor = entrada[i].data[f].valor;\n                if (entrada[i].data[f].titulo === 'Valor') {\n                  valor = \"$\" +separar(entrada[i].data[f].valor + '', ',');\n                }\n                temp[i][entrada[i].data[f].titulo] = valor;\n            }\n        }\n        var date = new Date(entrada[i].fecha_creacion);\n        var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n        temp[i][\"Fecha de Creación\"] = fecha;\n        temp[i][\"Usuario de Creación\"] = entrada[i].usuario;\n\n        if (entrada[i].data[inputs.length] !== undefined) {\n            for (var d = 0; d < entrada[i].data.length; d++) {\n                if (entrada[i].data[d].titulo === \"Fecha de Actualización\") {\n                    temp[i][\"Fecha de Actualización\"] = entrada[i].data[d].valor;\n                }\n                if (entrada[i].data[d].titulo === \"Usuario de Actualización\") {\n                    temp[i][\"Usuario de Actualización\"] = entrada[i].data[d].valor;\n                }\n            }\n\n        }\n    }\n    $(\"input[id^=date-]\").addClass(\"form-control\").attr('type', 'datetime-local');\n    table = $('#example').DataTable({\n        \"data\": temp,\n        \"order\": [\n            [1, \"asc\"]\n        ],\n        \"columns\": generarTitulosDinamicos(),\n        'columnDefs': [{\n            'targets': 0,\n            'searchable': false,\n            'orderable': false,\n            'className': 'dt-body-center',\n            'render': function(data, type, full, meta) {\n                return '<input type=\"checkbox\" class=\"' + $('<div/>').text(data).html() + '\">';\n            }\n        }],\n        \"destroy\": true,\n        select: true,\n        responsive: true,\n        altEditor: true,\n        dom: 'Bfrtip',\n        stateSave: true,\n        lengthMenu: [\n            [ 10, 25, 50,100,500, -1 ],\n            [ '10 Filas', '25 Filas', '50 Filas', '100 Filas', '500 Filas', 'Mostrar Todo' ]\n        ],\n        buttons: [\n              {\n                text: 'Filas',\n                extend: 'pageLength'\n              },\n              {\n                text: 'Ingresar',\n                className: 'ingresar',\n                action: function(e, dt, node, conf) {\n                    $('#id').val('');\n                    $('#myModal').modal('show');\n                    $(\"#actualizar\").hide();\n                    $(\"#guardar\").show();\n                    limpiarCampos();\n                    $(\"div[id^=imagen]\").each(function() {\n                        $(this).find(\"img\").prop(\"src\", \"/images/default.png\");\n                    });\n                    setTimeout(function() {\n                        $(\"input:visible\").eq(0).trigger('focus');\n                    }, 200);\n                }\n            },\n            {\n                text: 'Mostrar Columnas',\n                postfixButtons: ['colvisRestore'],\n                extend: 'colvis'\n            },\n            {\n                text: 'Eliminar Selección',\n                className: 'eliminar',\n                action: function(e, dt, node, conf) {\n                    if (confirm('Esta Seguro?')) {\n                        toastr.options = {\n                            closeButton: true,\n                            debug: false,\n                            newestOnTop: false,\n                            progressBar: true,\n                            positionClass: \"toast-top-center\" || 'toast-top-right',\n                            preventDuplicates: false,\n                            timeOut: \"1000\",\n                            onclick: function() {\n                                console.log(\"Toco el Mensaje\");\n                            }\n                        };\n                        //success error warning info\n                        toastr.warning(\"Los inventarios se han Eliminado!.\", \"Importante!\");\n                        $(\"input[type='checkbox']\").each(function() {\n                            if ($(this).is(\":checked\")) {\n                                $.ajax({\n                                    url: \"http://\" + window.location.hostname + \":\" + window.location.port + \"/admin/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n                                    type: 'DELETE',\n                                    data: {\n                                        'id': $(this).attr(\"class\")\n                                    },\n                                    error: function(respuesta) {\n                                        console.log(\"Error \" + respuesta);\n                                    },\n                                    success: function(respuesta) {\n                                      console.log(respuesta);\n                                    }\n                                });\n                            }\n                        });\n                        setTimeout(function() {\n                          mostrarTabla();\n                        },500);\n                    }\n                }\n            },\n            {\n                extend: 'collection',\n                text: 'Exportar',\n                buttons: [{\n                    extend: 'pdfHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n\n                }, {\n                    extend: 'csvHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'copyHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'excelHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    },\n                    customize: function(xlsx) {\n                        var sheet = xlsx.xl.worksheets['sheet1.xml'];\n                        $('row c[r^=\"C\"]', sheet).attr('s', '2');\n                    }\n                }]\n            }\n        ]\n    });\n\n    $(\"input[type=checkbox]:visible\").click(function() {\n        $(\".eliminar\").removeAttr(\"disabled\");\n        if ($(\"input[type=checkbox]:checked\").length === 0) {\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        } else {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        }\n    });\n    /**\n     * @autor:godie007\n     * @date: 2017/01/11 03:28\n     * Al momento de presionar en el check superir se seleccionan todos lo checkbox para\n     * luego ser eliminados\n     **/\n    $('#example-select-all').on('click', function() {\n        // Obtener todas las filas con la búsqueda aplicada\n        var rows = table.rows({\n            'search': 'applied'\n        }).nodes();\n        // Active o desactive las casillas de verificación de todas las filas de la tabla\n        $('input[type=\"checkbox\"]', rows).prop('checked', this.checked);\n        if ($('input[type=\"checkbox\"]', rows).is(\":checked\")) {\n            $(\".eliminar\").css({\n                'color': 'red'\n            });\n        } else {\n            $(\".eliminar\").css({\n                'color': 'black'\n            });\n            $(\".eliminar\").attr(\"disabled\", \"disabled\");\n        }\n    });\n}\nfunction separar(x, simbolo) {\n    if (x !== undefined && x !== '') {\n        return x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, simbolo);\n    }\n    return '';\n}\n"]}