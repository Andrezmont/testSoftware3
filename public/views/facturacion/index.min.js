/*! Godie007 - 2017-05-03 */
function mostrarFoco(){setTimeout(function(){var a=!1;if($("#myModal1").is(":visible")&&$("a[id^=producto]").length>0){for(var b=0;b<$("a[id^=producto]").length;b++)if("Seleccionar..."===$("a[id^=producto]").eq(b).text()){$("a[id^=producto]").eq(b).trigger("focus"),a=!0;break}!1===a&&$("button#pagar").is(":visible")&&$("#guardar").trigger("focus"),$("#myModal3").is(":visible")&&(""===$("#nombreC").val()||"0"===$("#nombreC").val()?$("#cli_existente").trigger("focus"):""===$("#cedulaV").val()||"0"===$("#cedulaV").val()?$("#ven_existente").trigger("focus"):$("#guardarFactura").trigger("focus"))}},300)}function openWindow(a){window.open("/account/facturacion/ventana/"+a,"_blank","height=600,width=400, status=yes,toolbar=no,menubar=no,location=no,left=300,top=200")}function openWindowCliente(){window.open("/account/facturacion/cliente/","_blank","height=600,width=400, status=yes,toolbar=no,menubar=no,location=no,left=300,top=200")}function openWindowNuevoCliente(){window.open("/account/facturacion/cliente/nuevo/","_blank","height=600,width=400, status=yes,toolbar=no,menubar=no,location=no,left=300,top=200")}function openWindowVendedor(){window.open("/account/facturacion/vendedor/","_blank","height=600,width=400, status=yes,toolbar=no,menubar=no,location=no,left=300,top=200")}function openWindowNuevoVendedor(){window.open("/account/facturacion/vendedor/nuevo/","_blank","height=600,width=400, status=yes,toolbar=no,menubar=no,location=no,left=300,top=200")}function separar(a,b){return void 0!==a&&""!==a?a.replace(/\B(?=(\d{3})+(?!\d))/g,b):""}function formatAMPM(a){var b=a,c=b.getHours(),d=b.getMinutes(),e=b.getSeconds(),f=c>=12?"PM":"AM";return c=c%12==0?12:c%12,c=c||12,d=d<10?"0"+d:d,e=e<10?"0"+e:e,c+":"+d+":"+e+" "+f}function verificar(){salida.length>0?$("#pagar").show():$("#pagar").hide()}function eliminarR(a){if($(".alert").hide(),confirm("Esta Seguro?")){var b=[];b[0]=a,eliminar(b)}}function eliminar(a){for(var b=[],c=0,d=0;d<salida.length;d++)for(var e=0;e<a.length;e++)null!==salida[d]&&null!==salida[d].indice&&parseInt(salida[d].indice)===parseInt(a[e])&&(salida[d]=null);for(var f=0;f<salida.length;f++)null!==salida[f]&&(b[c]=salida[f],c++);salida=b,mostrar(salida),verificar(),window.sessionStorage.setItem("Formulario",JSON.stringify(salida)),mostrarFoco()}function comprobarFormaDePago(a){if("efectivo"===a){$("#dinero").html("<div class='span2'>Ingreso:</div>"+"<input type='text' id='dinero_pagado' autofocus='autofocus' focus class='form-control' style='width: 300px;' onkeypress=' return event.charCode >= 48 && event.charCode <= 57;'></input>"+"<div class='span2'>Devoluci처n:</div>"+"<input type='text' id='devuelta' disabled='disabled'></input>"),$("#dinero_pagado").keyup(function(){var a=parseFloat($("#valorF").val()),b=parseFloat($(this).val())-a;$("#devuelta").val(b.toFixed(2))})}else $("#dinero").html("")}function mostrar(a){table=$("#example").DataTable({data:a,columns:[{data:"indice",title:"<input type='checkbox' id='example-select-all'>"},{data:"indice",title:"N째"},{data:"fecha",title:"Fecha"},{data:"producto",title:"Producto",render:function(a,b,c){return'<a  href="#" "name"="'+c.indice+'" autofocus onClick="openWindow('+c.indice+')"  class="" id="producto'+c.indice+'" >'+a+"</a>"}},{data:"valor",title:"Valor"},{data:"cantidad",title:"Cantidad",render:function(b,c,d){return $("#in_can"+d.indice).change(function(){if(""!==a[d.indice].valor){var b=new Date,c=b.getDate()+"/"+(b.getMonth()+1)+"/"+b.getFullYear()+" "+formatAMPM(b);a[d.indice].cantidad=$(this).val(),a[d.indice].precio=parseInt(a[d.indice].valor)*parseInt($(this).val()),a[d.indice].fecha=c,comprovarCantidadesR(),window.sessionStorage.setItem("Formulario",JSON.stringify(a)),mostrar(a)}}),'<input id ="in_can'+d.indice+'" type="number" step="1" min="1" onkeypress="return event.charCode >= 48 && event.charCode <= 57;" max="10000" value="'+b+'">'}},{data:"precio",title:"Precio",render:function(a,b,c){return separar(a+"",",")}},{data:"estado",title:"Estado"},{data:"indice",title:"Acci처n",render:function(a,b,c){return'<div class="btn-group"><img type="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABhUlEQVRIS72VSy5FQRCGvzvAAjDxTCSGYsIKrMAjEo81uFiI5xIQEq8VWAETMSWEMMEGTMgv3VIp55w+59zcW8Ou6v+v+qu7qkGbrdFmfFIE3cACMAtMAwMhoTfgGrgEzoCvvESLCAS8DQwlqnwBNoDzrLgsAp0JuFlRvt1A9G3vZRHs1ACPmLqrav7ME0iW04qZ+/B54CIeWgI19MFp/g6sAXtAv0OKvn2gz/iegfHYeEuwDBw5kCXgBJgArgyJwGeAO2AFOHT3hHWsM0sgaSSRNQsUSeSP4JOBuNfdE9aiJ3gCRjP09yQKUeZ54PI/AmOeQJ+lK6fBlkQhReDyC6un4wRlJFLmsts6EqWaHGWJTS4iyWxy0TP1mn+GlySSVeCgzDPVR7sHhk3wB7AOaM74pygS+TQerC/3owlX31zjtxWbC2P8F6Pjwy6SboXyq1QiqTaB5LiOoCpVe2EkwSLN1Qttt39WZmWqL1qZU8BgQHgFbgKoNlmtlVlFntzYVAUtk/wAB7peGclDh8AAAAAASUVORK5CYII=" onClick="eliminarR(&#39;'+a+'&#39;)" class="btn btn-default fa fa-trash-o" ></img></div>'}}],columnDefs:[{targets:0,searchable:!1,orderable:!1,className:"dt-body-center",render:function(a,b,c,d){return'<input type="checkbox" class="'+$("<div/>").text(a).html()+'">'}}],fnFooterCallback:function(a,b,c,d,e){var f=(this.api(),0);b.forEach(function(a){"Activo"===a.estado&&(f+=a.precio)}),0===$("#example tfoot").length&&$("#example").append("<tfoot><tr><th>Total</th><th></th></tr></tfoot>"),$("#example tfoot tr th").eq(1).text("$"+separar(f+"",",")),$("#sumatoria").val(f)},destroy:!0,select:!0,responsive:!0,altEditor:!0,dom:"Bfrtip",lengthMenu:[[10,25,50,100,500,-1],["10 Filas","25 Filas","50 Filas","100 Filas","500 Filas","Mostrar Todo"]],buttons:[{text:"Filas",extend:"pageLength"},{text:"Mostrar Columnas",postfixButtons:["colvisRestore"],extend:"colvis"},{text:"Eliminar Selecci처n",className:"eliminar",action:function(a,b,c,d){temporal=[];for(var e=0,f=[],g=$("#example tbody tr").find("td").find("input[type='checkbox']:checked"),h=0;h<g.length;h++)g.eq(h).is(":checked")&&null!==g.eq(h).attr("class")&&(f[e]=g.eq(h).attr("class"),e++);g.length>0?confirm("Esta Seguro?")&&(toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-center",preventDuplicates:!1,timeOut:"1000",onclick:function(){}},toastr.warning("Los inventarios se han Eliminado!.","Importante!"),eliminar(f)):mensajeError("Debe checkear elementos de la lista para poder eliminarlos.")}},{extend:"collection",text:"Exportar",buttons:[{extend:"pdfHtml5",exportOptions:{columns:":not(:last-child)"},customize:function(a){a.content.splice(1,0,{margin:[0,0,0,12],alignment:"center",image:"data:image/png;base64,"+$("#imagen").attr("class")+"="})}},{extend:"csvHtml5",exportOptions:{columns:":not(:last-child)"}},{extend:"copyHtml5",exportOptions:{columns:":not(:last-child)"}},{extend:"excelHtml5",exportOptions:{columns:":not(:last-child)"},customize:function(a){var b=a.xl.worksheets["sheet1.xml"];$('row c[r^="C"]',b).attr("s","2")}}]}]}),$("select[id*=ddlNames]").customselect(),$("select[id*=ddlNames]").customselect({csclass:"custom-select",search:!0,numitems:4,searchblank:!1,showblank:!0,searchvalue:!1,hoveropen:!1,emptytext:"",showdisabled:!1}),$("#example-select-all").on("click",function(){var a=table.rows({search:"applied"}).nodes();$('input[type="checkbox"]',a).prop("checked",this.checked)})}function mensajeError(a){toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-center",preventDuplicates:!1,timeOut:"5000",onclick:null},toastr.error(a,"Advertencia!")}function mensajeExito(a){toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-center",preventDuplicates:!1,timeOut:"1000",onclick:null},toastr.success(a,"Felicidades!")}function mensajeAdvertencia(a){toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-center",preventDuplicates:!1,timeOut:"5000",onclick:null},toastr.warning(a,"Importante!")}function mensajeInformacion(a){toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-center",preventDuplicates:!1,timeOut:"5000",onclick:null},toastr.info(a,"Felicidades!")}function comprovarCantidadesR(){for(var a=0;a<salida.length;a++){var b=$("#example tbody").find("tr").eq(a).find("td").eq(3).text();if("Seleccionar..."!==b){var c=salida[a].productoID;$.ajax({url:"/account/facturacion/producto",type:"POST",data:{id:c,indice:a},error:function(a){},success:function(a){var c=a.indice;if(void 0!==a){var d=parseInt($("#example tbody").find("tr").eq(c).find("td").eq(5).find("input").val()),e=parseInt(a.cantidad);if(!(d>e))return $("#pagar").attr("disabled",!1),$("#actualizar2").attr("disabled",!1),!1;$("#pagar").attr("disabled",!0),$("#actualizar2").attr("disabled",!0),$("#in_can"+c).attr("style","border-radius: 5px; border:#FF0000 1px solid;"),mensajeError("La cantidad existente en Inventario de "+b+" es menor.(Actual="+d+",Existente="+e+")")}else mensajeError("El producto "+b+" fue retirado de inventario.")}})}}}function ver2(a){$.ajax({url:"/account/facturacion/ver/",type:"POST",data:{id:a},error:function(a){},success:function(a){$("#id").val(a._id),salida=a.data,aux=a.data,mostrar(salida),$("#actualizar2").show(),$("#guardarFactura").hide(),verificar(),$("#facturar").click(),$("#myModal2").modal("hide")}})}function eliminar2(a){confirm("Esta Seguro?")&&($(".alert").hide(),$.ajax({url:"/account/facturacion/",type:"DELETE",data:{id:a},error:function(a){},success:function(a){""!==a&&(mensajeAdvertencia("La Factura ha sido Anulada!."),table2.ajax.url("/account/facturacion/listar/").load())}}))}var salida=[],aux=[],indice=0,table,table2;window.mostrarContenido=function(a,b,c){$("#producto"+a).attr("class",b),$("#producto"+a).text(c)},window.validarRepetido=function(a){mostrarFoco();for(var b=0;b<salida.length;b++)if(salida[b].producto===a)return mensajeAdvertencia("El producto ya se encuentra en uso, por favor modifique solo la cantidad."),!0;return!1},window.notificarIngresoDeCliente=function(){return mensajeExito("Cliente Ingesado Correctamente!"),$("#nombreC").attr("style","border-radius: 4px; border:#ccc 1px solid;width: 300px;"),!1},window.notificarIngresoDevendedor=function(){return mensajeExito("Vendedor Ingesado Correctamente!"),$("#cedulaV").attr("style","border-radius: 4px; border:#ccc 1px solid;width: 300px;"),!1},window.validarCantidad=function(a,b,c){$.ajax({url:"/account/facturacion/producto",type:"POST",data:{id:a},error:function(a){},success:function(a){var d=parseInt($("#example tbody").find("tr").eq(b).find("td").eq(5).find("input").val()),e=parseInt(a.cantidad);if(!(d>e))return $("#pagar").attr("disabled",!1),$("#actualizar2").attr("disabled",!1),!1;$("#pagar").attr("disabled",!0),$("#actualizar2").attr("disabled",!0),$("#in_can"+b).attr("style","border-radius: 5px; border:#FF0000 1px solid;"),mensajeError("La cantidad existente en Inventario de "+c+" es menor.(Actual="+d+",Existente="+e+")")}})},window.actualizarValor=function(a,b,c,d){var e=new Date,f=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+" "+formatAMPM(e);a=parseInt(a),b=parseInt(b);var g=parseInt($("#example tbody tr").eq(b).find("td").eq(5).find("input").val());salida[b]={indice:b,numeroFactura:$("label[name='numeroFactura']").text().trim(),fecha:f,valor:a,producto:d,precio:a*g,productoID:c,cantidad:g,estado:"Activo",usuario:$("#usuario").attr("class")},window.sessionStorage.setItem("Formulario",JSON.stringify(salida)),mostrar(salida)},$(document).ready(function(){setTimeout(function(){$("#menuVenta").click(),$("#in_v").css({outline:"none","background-color":"#393a39",color:"white"}),comprobarFormaDePago($("#forma_pago").val())},400),$("#forma_pago").change(function(){comprobarFormaDePago($(this).val())}),$("#guardarFactura").click(function(){var a=!1;if("-1"===$("#forma_pago").val()?(mensajeError('Debe Seleccionar una "Forma de Pago"'),$("#forma_pago").attr("style","border-radius: 5px; border:#FF0000 1px solid;width: 300px;"),a=!0):$("#forma_pago").attr("style","border-radius: 4px; border:#ccc 1px solid;width: 300px;"),""===$("#nombreC").val()?(mensajeError('Debe Seleccionar una "C챕dula del Cliente"'),$("#nombreC").attr("style","border-radius: 5px; border:#FF0000 1px solid;width: 300px;"),a=!0):$("#nombreC").attr("style","border-radius: 4px; border:#ccc 1px solid;width: 300px;"),""===$("#cedulaV").val()?(mensajeError('Debe Seleccionar una "C챕dula del Vendedor"'),$("#cedulaV").attr("style","border-radius: 5px; border:#FF0000 1px solid;width: 300px;"),a=!0):$("#cedulaV").attr("style","border-radius: 4px; border:#ccc 1px solid;width: 300px;"),"efectivo"==$("#forma_pago").val()&&(""===$("#dinero_pagado").val()?(mensajeError('Debe Seleccionar una "C챕dula del Vendedor"'),$("#dinero_pagado").attr("style","border-radius: 5px; border:#FF0000 1px solid;width: 300px;"),a=!0):$("#dinero_pagado").attr("style","border-radius: 4px; border:#ccc 1px solid;width: 300px;")),parseInt($("#devuelta").val())<0&&(a=!0,mensajeError("Saldo Ingresado es menor al valor de la lista de compras!")),!1===a){var b=new Date,c=b.getDate()+"/"+(b.getMonth()+1)+"/"+b.getFullYear()+" "+formatAMPM(b);$.ajax({url:"/account/facturacion/",type:"POST",data:{data:salida,usuario:$("#usuario").attr("class"),descuento:$("#descuento").val(),forma_pago:$("#forma_pago").val(),dinero_pagado:$("#dinero_pagado").val(),cliente:$("#nombreC").val(),vendedor:$("#cedulaV").val(),fecha:c,numeroFactura:$("label[name='numeroFactura']").text().trim(),fechaModificacion:""},error:function(a){},success:function(a){table2.ajax.reload(null,!0),$("#example_wrapper").hide(),$("#pagar").hide(),$("#print").click(),mensajeExito("Se Facturo!."),setTimeout(function(){confirm("Desea Imprimir?")&&window.open("/imprimir/"+$("#example2 tbody tr").eq(0).find("td").eq(0).find("input").attr("class"),"_blank"),window.sessionStorage.setItem("Formulario","[]"),location.reload()},500)}})}}),$("#actualizar").hide(),$(".alert").hide(),$("#guardar").show(),$("#descuento").change(function(){var a=parseInt($("#valorT").text())-parseInt($(this).val())/100*parseInt($("#valorT").text());$("#valorF").val(a.toFixed(2)),$("#dinero_pagado").val(a.toFixed(2)),$("#devuelta").val((0).toFixed(2))}),$("#cancelar").click(function(){window.sessionStorage.setItem("Formulario","[]"),location.reload()}),verificar(),$("#pagar").click(function(){for(var a=!1,b=0;b<salida.length;b++)-1===salida[b].productoID&&(a=!0);if(a)mensajeError("Debe seleccionar Productos en todos los registros.","Importante!");else{var c=parseInt($("#sumatoria").val());$("#valorT").text(c),c=parseInt(c)-parseInt($("#descuento").val())/100*c,$("#valorF").val(c),$("#dinero_pagado").val($("#valorF").val());$("#devuelta").val((0).toFixed(2)),$("#myModal3").modal("show")}}),$("#ingresar").click(function(){$("#guardar").show(),$("#actualizar").hide(),$("input,textarea").val(""),$(".alert").hide(),$("#myModal").on("shown",function(){$("input[name='nombre']").focus()})}),$("#guardar").click(function(){var a=!1;if(void 0!==salida)for(var b=0;b<salida.length;b++)salida[b].productoID===$("#ddlNames").val()&&(a=!0);if(!1===a){var c=parseInt($("#ddlNames option:selected").attr("class")),d=-1;if(void 0!==salida)for(var e=0;e<salida.length;e++)void 0!==salida[e]&&null!==salida[e]&&salida[e].indice>d&&(d=salida[e].indice);var f=new Date,g=f.getDate()+"/"+(f.getMonth()+1)+"/"+f.getFullYear()+" "+formatAMPM(f);salida[d+1]={indice:d+1,fecha:g,producto:"Seleccionar...",precio:c,productoID:-1,valor:0,cantidad:1,estado:"Activo"},mostrar(salida),verificar()}else alert("El producto ya Existe")})}),$(document).ready(function(){null!==window.sessionStorage.getItem("Formulario")&&JSON.parse(window.sessionStorage.getItem("Formulario")).length>0&&(salida=JSON.parse(window.sessionStorage.getItem("Formulario")),mostrar(salida)),setTimeout(function(){comprovarCantidadesR()},1e3),verificar(),$("#actualizar2").hide(),$("#actualizar2").click(function(){$.ajax({url:"/account/facturacion/",type:"PUT",data:{_id:$("#id").val(),vendedor:$("#cedulaV").val(),cliente:$("#nombreC").val(),descuento:$("#descuento").val(),dinero_pagado:$("#dinero_pagado").val(),data:salida},error:function(a){},success:function(a){""!==a&&(table2.ajax.url("/account/facturacion/listar/").load(),mensajeInformacion("Se ha Actualizado la Factura!."))}})});table2=$("#example2").DataTable({ajax:{url:"/account/facturacion/listar",dataSrc:""},order:[[1,"desc"]],columns:[{data:"_id",title:"<input type='checkbox' id='example-select-all2'>"},{data:"numeroFactura",title:"N째 Factura"},{data:"fecha",title:"Fecha de Creaci처n"},{data:"fechaModificacion",title:"Fecha de Modificaci처n"},{data:"usuario",title:"Usuario"},{data:"data",title:"Valor",render:function(a,b,c){for(var d=0,e=0;e<a.length;e++)d+=a[e].precio;return"$"+separar(d+"",",")}},{data:"estado",title:"Estado",render:function(a,b,c){return"Anulado"===c.estado?'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACLklEQVRIS7XVSajPURQH8M8zRYYkhVKiDKGMhSQrZWFakGRhgWR4JYqsrCiSRMoUUoaForBAEooUFoREGRMbG9PC2Hnd97puv////Rfe2d17zznfe7/ne85t0sHW1MH5NQIwGPMwEQPwC29wBxfxud4l6wEMwQ4sQqcaSb5gH7bha5VPLYA5OIk+WdATjE7rFxiKzmn9DHPxvASpAojk59Alc96K/mhOe1fSBY7TRvNHTMPLHKQECFoeZjf/ic24jtvongUvQDccQ8+0/wBTEHEtVgKcweIsyWH0wMIiebj8xiU8xaYsZjUOVAGEWl7XKOg77MEu/MCalKS1BjkrUYcRVQARtD/zvJok+RbbcRpT03mo5hrWJnoGYVwWOxaPS4qOYHmhmkPJcUVB3R9sSfWagVXol8Uuw4kS4AJCQf/DQhg7S4DzmF8je3TvXYT+u2ICRtW5yUbsLgH2ZjrPYwN4fRJAvj8dBzGmAii6/2wJsASnCuejCP6D8yqLTr+B8dlh+IYi35cAvdNmr+T8AcPwvZ2iBF3RYK12EzNbF2WjhRxDHWEh2XVZYN/U4dFgn/AtO3uEkGbYbFyuBRAtfx8j0yh+hcmJ53hhbjF7IvG9NOiiFkHx0typatgNx600+9th55/jmFWzipfV/HBiFIcK4pNpxOLmK8vkZZHLRDGuQ0EbEK8qLdQSL426tXFeOjXyZUZM8DsJA9Moji8zKGmRYj1rFKC9PDXPOxzgL+vhahnrzWfrAAAAAElFTkSuQmCC" >'+x.precio:'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAE+UlEQVRIS7WVa2wUVRTH/3dmdva92+2DtoBtofIqUlIWlvKUIkLkoVjCwxAiYhAC1AbEDwZJMGLUYHzhI0gRNaSEpqY8JYFKEWgBC20FWmmFUi2tbWFfs7Od7s7OjJntQli6UL9wk/Nl7p3zu+f8z7mH4Akv8oT9o19AydfGFJ114Hir2TQjFFIyaQKKouT2gN9/vt3ddeHVDb6mx13ysYBTByesG5Set9FiTc/UsiCsRgZFgggERIgBGYLnbmdby7mySYt+X08I5FigmICSErDp8fnHM4bNyYuzEAJFBAgBlBAUWYAi+6HIHEggiKCQiOabNc1c+9VZz67++9bDkJiAs8fmXhw3camDoXgQ2gQQLaBmUxHvO1ckDxTJDcrnAy0no+lGfdvtWzXT5hR0RkH6AKpOPPfVyGcWrTdog6AYG9xeBoWbi7CpcDFyxqZBkTicLK/CgdIqfP7RFOhlHjTHAVIyrrXU14zL/83+YBRRgNKigTn2SavOpiZbjIQygjCJ+PjTU9i6bRdmz56KXw5uhyK5MGZ8Ia43tuL7b/KxbF48aM4bNj89GrX1h9+c8frNnfcgUYCLx14uHjnW/gqrVUAxCSB0It7YsA8//HQYQ4ekoal+HxTJCUP8YohiCFveno0tBWmgvb0AWjTgCk/qG7vLxi5ZAkmFRAHqfl3aNCJ79DAoUgQQjw92VOC97XswMy8XJ45ugyx5kZWzCTdutuG7nUuwYoEJFMf1QgIELWSwv6Ju/6hVbwmtUYBvd5gGzJq6smFwui4BNANC20DoONxxabB6/R68s3kxch2pgMzj0LFrKD5Qhd1fTIQp5AHl48I6UEI3nHGTca72x+cXrnOWRwF27zBmz5u19ozN4rbKehMoxgpCWUAoA0DpACiRMu2GIvNQJB8Q9IDmfRGADyQkgjdm4XTDkVUL1t7ZGwXY9ZkhdaZ9xbW0AVI8J4nwBlgMGpwEQvQA0USyqfZBIFyqCPGguv2geB58lxfcXQHpCYArbjIqL+2d+2KB+3gfDWqO5jdnZwwYIlEenGlgoDPKsOckA4TpLQpFBpQAIAZACUI4Jd4OH45UBrFycghEo8dtkiaUXynOem1jT0sfQHXpzJ+znhqaz5IOyHoj9lcwuHXbi4VzrBg+VA8KMkgoBBIMgncLOHdZwIUGBVtfUqAnPKBPwVUfaTzfXjZmzRqIfQAln9imTncsO5mkNOsUDaCwelS3pqCorBN+gSAlSQeGpsDxIpyeAGZkG7E61wkdPOEA/TYHaq9XbJ228ur2mH2gfrxUbN83KsOxXM/VQdGwUBgGsiYOTc5EtDq1CEkEcdogRie4YCNtYeHVJZuHoa7r30Z7fvnIR3ayulFQAO3yXMcfEzLHj6DcNf9vXJifRqPL6zpdXTl/7fuuC70l17sefosMAMzZo9ikL991lI7LtI8w8w2A6IsNIgx6zFlo7Oy4u6f4zJqdpR71RuphDoihgeocgCVi5qJtGYXTc6e/kGSx2rSyH1pZAKWI6KHNCFIG+IWAUP3n5drNn1758K9mqf0B5yqkO1YEdASigkwAjHlT2OHzJ6ZOGp6ZYjeaLcmEaAjv93raOroajlf+c/7QyUBdxBkP4J7dD/lRE00FqenSA1DbmAWgdhvFsqCCwfD0Uh+zYMR6IhDhwfzHiqA/UdULqaaKeF/Ix/3U79Dvj9jf/n8ciQ83QfXpMwAAAABJRU5ErkJggg==" >'+c.estado}},{data:"_id",title:"Eventos",render:function(a,b,c){var d='<img title="Esta funci처n es para Imprimir el registro de la columna!" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAEoElEQVRIS5WWXUwjVRTHz21num2hUMqHNUGIoQRoSwyVj5BAqe5ukRLeNoTEkBiNmuiDBg0J+AJPPhgfJH5E9HE1MasPomZXEkPENU13qanZQIOloSwBWqC0ZSm0M9O55kyZpi3FXW9zM9O5M//fOeeec2YIFA1KKfF6vS0sy+oBgOYv8zyf+0sIIWq1+thsNq8TQjLFOvJ/UrwQCASuLC8v3+zr67smCIIgiiLIM5PJ5M5FUSSU0phGo3nPZrMtPDFgaWlJfXBw8OPQ0JATLU6n04BHhMgAhUIh6TEMA4lEYpPjuNc6OzuXSkEueICAvb29hcHBwesoFIvF4OzsDCilOetlgFqthpqaGtjZ2VlTqVSvtLS03C+GlATs7+8vuFyu62jx6emp5EV+qORzlUoF5eXlkmeBQODPurq6GxaLJZwPeSIAx3EFHiAAvcAQoTghBL2IEkKu9vf3//2/AIlEQvICRVBYDhUe5YleRCKRKMMwV3t6eh4PCIfDUohQEAGpVEoSw5EPwHUcVVVVcHh4GOV5/nIA5v/GxoYqGAyWRaPRW06n80WWZSVxDIM85A2WrcfruNm7u7tHuw8fupwu10p+XUh7cHR0VHnv3so7GcL2x2NR1dPGGmunrcOAIiePTiDNpaUQARDQaDTAsoxUghR/lAJu9sHBIf+H+y9fpV6/b9CpvhsYGPgWQRLg7t3f32TKjJ8SVsv89MNNqKuuAmu7FahIIc1xeR6QgtLGqMkATOcH/+xAS0cfVMJhpL6uYqS7u/s+ViPjdru/SbFPjYaPUnDyKAFpTgCRAvAZEQRBBAGPOEWsBQoZUd7gLEDeG4WSAfaKFjoaGNDR2LsvDQ9/QgKBQEUiFvs5zFX2/+LeArxfyKCIWCR0WTM4v46xOPfoBWsFNFamPnY6ne+T1dVVw/Hx8W2D8dnu37zbcJq+tG+VJFCa36tEUDEA7c+ooYzhvrDb7W+R9fX1mng8fqetre15Oc8fY2tuGcODfYrjeOB4DrAgBZ6DVCqN7eUru93+BoaoNhaL3WltbbXJef0kABTH9EXRLCQLwImpnU6nv3Y4HK9fAGCey1X7XyA0Jl9YEASpZ8mT5/nSgMXFRfD5fFBfXw9arbaAIWeMnDXoAU60OBQKQWNjI/T29gLCRFHMhsjv91fH4/HbFoulCxemp6fB4/HA1NQUWK3WXP+5zBv0OBKJwOzsLBgMBpiYmJAiIAjC5w6H422yvb2t2drautXe3j6MN/v9fskDtKa6urogzy+DJJNJWFtbo3q9HpqamgjuQyKRmB4ZGflQqmS3231tY2PjRjAYVKrV6qra2tohk8mkLQ5RyTcWIVLc/X4/v7m5+Ws8Ht81Go2JsbGxL5ubm4MX3gcmk8kxOTm50NXVpcMeI8c924tKDwytz+fj5+bmXvZ6vd+f3yWVeO4p7KYoMj4+/qrdbv9MqVQqikWlG7Itu+BrA6/hR4DH4/lgfn7+I1wmhBQCZmZmmFAoxGQymecopbZkMqlIJpNKnucZQRCUlFKcyMAHqUKhyDAMI7AsK+h0OlGn0+Hig4aGhhWz2cyPjo5KLeFfbFAuRnCHY/gAAAAASUVORK5CYII=" type="button" id="imprimir" onclick="window.open(&#39;/imprimir/'+a+'&#39;, &#39;myWindow&#39;, &#39;width=800,height=600&#39;)"class="btn btn-default fa fa-print">',e='<img title="Esta funci처n es para Modificar el registro de la columna!" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAEJUlEQVRIS7XUaUxcVRQH8P+9b5mBGaAMDAgFSqFA0Rq1otVih0Uje0ywqR+MidYFqyZuYYbR2OBSNps0VhMT0doYUxNM1bBpoi3TGk3oYrBVWwkBWgYoywADszBv3rvXTBNDkbYUTN+X9+G+c3733nfOIbjJD7nJ+bEUsHbdB8ILQakBjP0JRf8t9m31r3Yji4EaR7VBv0aIkbNbOQd1zw88NKdMbuPQatGYd3Y1yAJg/+lWqskPp5i39VCKEZUjjijQPPxihsvdvxNBXclqTrIA2By7DLqE3ihDplMSEaOqfjYxfaZS5fMeBtUFLpRgYOIRfL1DW8lJFgBr10sGfeI5szFTnfQNEo+/vwqcfQAi7AAnv4bLCYpPHbOgwVINEH6jyJVAjkj1ZVGGjWddnp5SUOwFI3aEiW+JPmRBoHcI0M0FiVdmdZYPVw6AE9gcH1MQE6PqPqjC4yCSPd2cG0Z0mO8bcZQIRDISyCkcyu9a/QPf3AiyuIpqW2R4Yw9AIDAZY+1T7nFzcmzhJS5hWiBYc2H02JOyHHUOqpqjUf95rc7y5XLI0j6o7TLCT/ZHims/8fDxJyRR/0PgnbvbUup52kU7BmBzNEWErzuuqu4sf3BWQIOl6Xr/5OqdHELm8VF0eFrzrM+5U2Pq3nUJlhmjGy6PYX7t0PTJN6KM6Qf93skNijq3iTXmWq+FXHtU1PwcDU2tT4nPbXa6up9lPNCUZHpQcFajL6Z+NMvl7rUnGjfXzShDBb7gRAQa8t+/2nVdfxbZHfeLRCoy6+9sG/Odft4gmQ7Ovbvpl1Ai4+6+Ao/i3J5kym0Zc5++K8j8g6gv+O6/yPLDzup4ShSlxDhjzuFLs92vMwHN2GM5kVrL9YP+4xmUkxfi4+5pGJ/87T2NBb9AU/6PVyLLA6GvrUcrQcnmFNOW752Tp15kErdhT97Q5URvHrkXKrVSKvcwLRCJpkLryoFQhP3oFsrFZ6J1Gc3Tyt+vMj/fBYncLgi0Kkyf/Kmndr0DNkcjGvNtqwNCUTVdG0DwismQeWjK0/scOD+zPqLgsELhGVba/Zg31KChcPfqgcvXdSwbhH0OkLdvico7BSMwNXwyToH3M3B+CE2F+/8fEIq2HdkKkO0A5ZSKLqaqr4HyGBD+NBoKDywLtLS0yJGRkTGapsUGAoERnU6XGB8ff350dDSVMZYqSVI3ALOqqtlfOfVzf8wIj474tYScaFb78kY2XlpaOvEvsqiK2traHgNQBSCVEBJa83HO+wkhw4yxLM55gFKaxBhzUkoDAJIBhN4q5zyGEDLDOQ/Np2FZlk8UFxePLinT9vb2tPLy8v7W1tbbKioq/iKE8M7OTnNYWNi0oig6r9err6ysdHV0dGSKojhcVFTk7ezsTOecq2VlZRdW3mjLjctl1v8ByA6+KFA/i54AAAAASUVORK5CYII=" onclick="ver2(&#39;'+a+'&#39;)" type="button" class="btn btn-default fa fa-edit " ></img>',f='<img title="Esta funci처n es para Eliminar el registro de la columna!" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABhUlEQVRIS72VSy5FQRCGvzvAAjDxTCSGYsIKrMAjEo81uFiI5xIQEq8VWAETMSWEMMEGTMgv3VIp55w+59zcW8Ou6v+v+qu7qkGbrdFmfFIE3cACMAtMAwMhoTfgGrgEzoCvvESLCAS8DQwlqnwBNoDzrLgsAp0JuFlRvt1A9G3vZRHs1ACPmLqrav7ME0iW04qZ+/B54CIeWgI19MFp/g6sAXtAv0OKvn2gz/iegfHYeEuwDBw5kCXgBJgArgyJwGeAO2AFOHT3hHWsM0sgaSSRNQsUSeSP4JOBuNfdE9aiJ3gCRjP09yQKUeZ54PI/AmOeQJ+lK6fBlkQhReDyC6un4wRlJFLmsts6EqWaHGWJTS4iyWxy0TP1mn+GlySSVeCgzDPVR7sHhk3wB7AOaM74pygS+TQerC/3owlX31zjtxWbC2P8F6Pjwy6SboXyq1QiqTaB5LiOoCpVe2EkwSLN1Qttt39WZmWqL1qZU8BgQHgFbgKoNlmtlVlFntzYVAUtk/wAB7peGclDh8AAAAAASUVORK5CYII="type="button" onclick="eliminar2(&#39;'+a+'&#39;)" class="btn btn-default fa fa-trash-o" ></img>';return"Anulado"===c.estado&&(f="",e=""),'<div class="btn-group" >'+d+e+f+"</div>"}}],columnDefs:[{targets:0,searchable:!1,orderable:!1,className:"dt-body-center",render:function(a,b,c,d){return"Anulado"===c.estado?'<input disabled type="checkbox" class="'+$("<div/>").text(a).html()+'">':'<input type="checkbox" class="'+$("<div/>").text(a).html()+'">'}}],fnFooterCallback:function(a,b,c,d,e){var f=(this.api(),0);b.forEach(function(a){if("Activo"===a.estado)for(var b=0;b<a.data.length;b++)f+=a.data[b].precio}),0===$("#example2 tfoot").length&&$("#example2").append("<tfoot><tr><th>Recaudado:</th></th><th></tr></tfoot>"),$("#example2 tfoot tr th").eq(1).text("$"+separar(f+"",","))},destroy:!0,select:!0,responsive:!0,altEditor:!0,dom:"Bfrtip",lengthMenu:[[10,25,50,100,500,-1],["10 Filas","25 Filas","50 Filas","100 Filas","500 Filas","Mostrar Todo"]],buttons:[{text:"Filas",extend:"pageLength"},{text:"Mostrar Columnas",postfixButtons:["colvisRestore"],extend:"colvis"},{text:"Eliminar Selecci처n",className:"eliminar",action:function(a,b,c,d){confirm("Esta Seguro?")&&(toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-center",preventDuplicates:!1,timeOut:"1000",onclick:function(){}},toastr.warning("Los inventarios se han Eliminado!.","Importante!"),$("input[type='checkbox']").each(function(){$(this).is(":checked")&&$.ajax({url:"http://"+window.location.hostname+":"+window.location.port+"/account/"+$("#modulo").attr("class")+"/",type:"DELETE",data:{id:$(this).attr("class")},error:function(a){},success:function(a){mostrarTabla()}})}))}},{extend:"collection",text:"Exportar",buttons:[{extend:"pdfHtml5",exportOptions:{columns:":not(:last-child)"},customize:function(a){a.content.splice(1,0,{margin:[0,0,0,12],alignment:"center",image:"data:image/png;base64,"+$("#imagen").attr("class")+"="})}},{extend:"csvHtml5",exportOptions:{columns:":not(:last-child)"}},{extend:"copyHtml5",exportOptions:{columns:":not(:last-child)"}},{extend:"excelHtml5",exportOptions:{columns:":not(:last-child)"},customize:function(a){var b=a.xl.worksheets["sheet1.xml"];$('row c[r^="C"]',b).attr("s","2")}}]}]}),$("#example-select-all2").on("click",function(){var a=table2.rows({search:"applied"}).nodes();$('input[type="checkbox"]',a).prop("checked",this.checked)}),$("#deleteAll2").click(function(){var a=$("#example2 tbody tr").find("td").find("input[type='checkbox']:checked");a.length>0?confirm("Esta Seguro?")&&a.each(function(){$(this).is(":checked")&&$.ajax({url:"http://"+window.location.hostname+":"+window.location.port+"/account/facturacion/",type:"DELETE",data:{id:$(this).attr("class")},error:function(a){},success:function(a){mensajeAdvertencia("La Factura ha sido Anulada!."),table2.ajax.reload(null,!0)}})}):mensajeError("Debe checkear elementos de la lista para poder Anular las Facturas.")})});
//# sourceMappingURL=index.min.js.map