{"version":3,"sources":["index.js"],"names":["mostrarFoco","setTimeout","seleccionados","$","is","length","i","eq","text","trigger","val","openWindow","indice","window","open","openWindowCliente","openWindowNuevoCliente","openWindowVendedor","openWindowNuevoVendedor","separar","x","simbolo","undefined","replace","formatAMPM","d","today","h","getHours","m","getMinutes","s","getSeconds","ampm","verificar","salida","show","hide","eliminarR","id","confirm","eliminar","ids","temporal","index","j","parseInt","mostrar","sessionStorage","setItem","JSON","stringify","comprobarFormaDePago","forma_pago","html","keyup","valor","parseFloat","devuelta","this","toFixed","table","DataTable","data","columns","title","render","type","row","change","date","Date","fecha","getDate","getMonth","getFullYear","cantidad","precio","comprovarCantidadesR","columnDefs","targets","searchable","orderable","className","full","meta","fnFooterCallback","nRow","aaData","iStart","iEnd","aiDisplay","size","api","forEach","estado","append","destroy","select","responsive","altEditor","dom","lengthMenu","buttons","extend","postfixButtons","action","e","dt","node","conf","ides","inputs","find","attr","toastr","options","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","timeOut","onclick","warning","mensajeError","exportOptions","customize","doc","content","splice","margin","alignment","image","xlsx","sheet","xl","worksheets","customselect","csclass","search","numitems","searchblank","showblank","searchvalue","hoveropen","emptytext","showdisabled","on","rows","nodes","prop","checked","msj","error","mensajeExito","success","mensajeAdvertencia","mensajeInformacion","info","nombre","productoID","ajax","url","respuesta","cantidadExistente","ver2","_id","aux","click","modal","eliminar2","table2","load","mostrarContenido","validarRepetido","producto","notificarIngresoDeCliente","notificarIngresoDevendedor","validarCantidad","actualizarValor","ident","numeroFactura","trim","usuario","document","ready","css","outline","background-color","color","mensaje","descuento","dinero_pagado","cliente","vendedor","fechaModificacion","reload","location","calculo","productoInvalido","focus","existeEnLista","mayor","f","alert","getItem","parse","dataSrc","order","total","imprimir","editar","each","hostname","port","mostrarTabla"],"mappings":"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","file":"index.min.js","sourcesContent":["var salida = [];\nvar aux = [];\nvar indice = 0;\nvar table;\nvar table2;\n/**\n * @autor:godie007\n * @date: 2016/12/22 17:01\n * Esta funcion es para centrar el foco para seleccionar de la tabla de productos\n **/\nfunction mostrarFoco() {\n    setTimeout(function() {\n        var seleccionados = false;\n        if ($('#myModal1').is(':visible') && $(\"a[id^=producto]\").length > 0) {\n            for (var i = 0; i < $(\"a[id^=producto]\").length; i++) {\n                if ($(\"a[id^=producto]\").eq(i).text() === \"Seleccionar...\") {\n                    $(\"a[id^=producto]\").eq(i).trigger('focus');\n                    seleccionados = true;\n                    break;\n                }\n            }\n            if (seleccionados === false) {\n                if ($('button#pagar').is(':visible')) {\n                    $(\"#guardar\").trigger('focus');\n                }\n            }\n            if ($('#myModal3').is(':visible')) {\n                if ($(\"#nombreC\").val() === '' || $(\"#nombreC\").val() === \"0\" ) {\n                    $(\"#cli_existente\").trigger('focus');\n                } else {\n                    if ($(\"#cedulaV\").val() === ''||$(\"#cedulaV\").val() === \"0\") {\n                        $(\"#ven_existente\").trigger('focus');\n                    } else {\n                        $(\"#guardarFactura\").trigger('focus');\n                    }\n                }\n            }\n        }\n\n    }, 300);\n}\n\nwindow.mostrarContenido = function(indice, valor, nombre) {\n    $(\"#producto\" + indice).attr(\"class\", valor);\n    $(\"#producto\" + indice).text(nombre);\n};\nwindow.validarRepetido = function(nombre) {\n    mostrarFoco();\n    for (var i = 0; i < salida.length; i++) {\n        if (salida[i].producto === nombre) {\n            mensajeAdvertencia(\"El producto ya se encuentra en uso, por favor modifique solo la cantidad.\");\n            return true;\n        }\n    }\n    return false;\n};\nwindow.notificarIngresoDeCliente = function() {\n    mensajeExito(\"Cliente Ingesado Correctamente!\");\n    $(\"#nombreC\").attr('style', \"border-radius: 4px; border:#ccc 1px solid;width: 300px;\");\n    return false;\n};\nwindow.notificarIngresoDevendedor = function() {\n    mensajeExito(\"Vendedor Ingesado Correctamente!\");\n    $(\"#cedulaV\").attr('style', \"border-radius: 4px; border:#ccc 1px solid;width: 300px;\");\n    return false;\n};\nwindow.validarCantidad = function(id, indice, nombre) {\n    $.ajax({\n        url: \"/account/facturacion/producto\",\n        type: 'POST',\n        data: {\n            'id': id\n        },\n        error: function(respuesta) {\n            \n        },\n        success: function(respuesta) {\n            var cantidad = parseInt($(\"#example tbody\").find(\"tr\").eq(indice).find(\"td\").eq(5).find(\"input\").val());\n            var cantidadExistente = parseInt(respuesta.cantidad);\n            if (cantidad > cantidadExistente) {\n                $(\"#pagar\").attr(\"disabled\", true);\n                $(\"#actualizar2\").attr(\"disabled\", true);\n                $('#in_can' + indice).attr('style', \"border-radius: 5px; border:#FF0000 1px solid;\");\n                mensajeError(\"La cantidad existente en Inventario de \" + nombre + \" es menor.(Actual=\" + cantidad + \",Existente=\" + cantidadExistente + \")\");\n            } else {\n                $(\"#pagar\").attr(\"disabled\", false);\n                $(\"#actualizar2\").attr(\"disabled\", false);\n                return false;\n            }\n        }\n    });\n};\nwindow.actualizarValor = function(valor, indice, ident, producto) {\n    var date = new Date();\n    var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n    var total = 0;\n    valor = parseInt(valor);\n    indice = parseInt(indice);\n    var cantidad = parseInt($(\"#example tbody tr\").eq(indice).find(\"td\").eq(5).find(\"input\").val());\n    salida[indice] = {\n        'indice': indice,\n        'numeroFactura': $(\"label[name='numeroFactura']\").text().trim(),\n        'fecha': fecha,\n        'valor': valor,\n        'producto': producto,\n        'precio': (valor * cantidad),\n        'productoID': ident,\n        'cantidad': cantidad,\n        'estado': 'Activo',\n        'usuario': $(\"#usuario\").attr(\"class\")\n    };\n    window.sessionStorage.setItem('Formulario', JSON.stringify(salida));\n    mostrar(salida);\n};\n\nfunction openWindow(indice) {\n    window.open(\"/account/facturacion/ventana/\" + indice, \"_blank\", \"height=600,width=400, status=yes,toolbar=no,menubar=no,location=no,left=300,top=200\");\n}\n\nfunction openWindowCliente() {\n    window.open(\"/account/facturacion/cliente/\", \"_blank\", \"height=600,width=400, status=yes,toolbar=no,menubar=no,location=no,left=300,top=200\");\n}\n\nfunction openWindowNuevoCliente() {\n    window.open(\"/account/facturacion/cliente/nuevo/\", \"_blank\", \"height=600,width=400, status=yes,toolbar=no,menubar=no,location=no,left=300,top=200\");\n}\n\nfunction openWindowVendedor() {\n    window.open(\"/account/facturacion/vendedor/\", \"_blank\", \"height=600,width=400, status=yes,toolbar=no,menubar=no,location=no,left=300,top=200\");\n}\n\nfunction openWindowNuevoVendedor() {\n    window.open(\"/account/facturacion/vendedor/nuevo/\", \"_blank\", \"height=600,width=400, status=yes,toolbar=no,menubar=no,location=no,left=300,top=200\");\n}\n\nfunction separar(x, simbolo) {\n    if (x !== undefined && x !== '') {\n        return x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, simbolo);\n    }\n    return '';\n}\n\nfunction formatAMPM(d) {\n    var today = d;\n    var h = today.getHours();\n    var m = today.getMinutes();\n    var s = today.getSeconds();\n    var ampm = h >= 12 ? 'PM' : 'AM';\n    h = (h % 12 === 0) ? 12 : h % 12;\n    h = h ? h : 12; // the hour '0' should be '12'\n    m = m < 10 ? '0' + m : m;\n    s = s < 10 ? '0' + s : s;\n    return (h + ':' + m + ':' + s + ' ' + ampm);\n}\n\nfunction verificar() {\n    if (salida.length > 0) {\n        $(\"#pagar\").show();\n    } else {\n        $(\"#pagar\").hide();\n    }\n}\n\nfunction eliminarR(id) {\n    $(\".alert\").hide();\n    if (confirm('Esta Seguro?')) {\n        var salida = [];\n        salida[0] = id;\n        eliminar(salida);\n    }\n}\n\nfunction eliminar(ids) {\n    var temporal = [];\n    var index = 0;\n    for (var i = 0; i < salida.length; i++) {\n        for (var j = 0; j < ids.length; j++) {\n            if (salida[i] !== null) {\n                if (salida[i].indice !== null) {\n                    if (parseInt(salida[i].indice) === parseInt(ids[j]))\n                        salida[i] = null;\n                }\n            }\n        }\n    }\n    for (var s = 0; s < salida.length; s++) {\n        if (salida[s] !== null) {\n            temporal[index] = salida[s];\n            index++;\n        }\n    }\n    salida = temporal;\n    mostrar(salida);\n    verificar();\n    window.sessionStorage.setItem('Formulario', JSON.stringify(salida));\n    mostrarFoco();\n}\n\nfunction comprobarFormaDePago(forma_pago) {\n    if (forma_pago === 'efectivo') {\n        var label_dinero = \"<div class='span2'>Ingreso:</div>\";\n        var input_dinero = \"<input type='text' id='dinero_pagado' autofocus='autofocus' focus class='form-control' style='width: 300px;' onkeypress=' return event.charCode >= 48 && event.charCode <= 57;'></input>\";\n        var label_devuelta = \"<div class='span2'>Devolución:</div>\";\n        var input_devuelta = \"<input type='text' id='devuelta' disabled='disabled'></input>\";\n        $(\"#dinero\").html(label_dinero + input_dinero + label_devuelta + input_devuelta);\n        $(\"#dinero_pagado\").keyup(function() {\n            var valor = parseFloat($(\"#valorF\").val());\n            var devuelta = parseFloat($(this).val()) - valor;\n            $(\"#devuelta\").val(devuelta.toFixed(2));\n        });\n    } else {\n        $(\"#dinero\").html(\"\");\n    }\n}\n$(document).ready(function() {\n    setTimeout(function() {\n        $(\"#menuVenta\").click();\n        $(\"#in_v\").css({\n            'outline': 'none',\n            'background-color': '#393a39',\n            'color': 'white'\n        });\n        comprobarFormaDePago($(\"#forma_pago\").val());\n    }, 400);\n\n    $(\"#forma_pago\").change(function() {\n        comprobarFormaDePago($(this).val());\n    });\n\n    $(\"#guardarFactura\").click(function() {\n        var mensaje = false;\n        if ($(\"#forma_pago\").val() === \"-1\") {\n            mensajeError('Debe Seleccionar una \"Forma de Pago\"');\n            $(\"#forma_pago\").attr('style', \"border-radius: 5px; border:#FF0000 1px solid;width: 300px;\");\n            mensaje = true;\n        } else {\n            $(\"#forma_pago\").attr('style', \"border-radius: 4px; border:#ccc 1px solid;width: 300px;\");\n        }\n        if ($(\"#nombreC\").val() === \"\") {\n            mensajeError('Debe Seleccionar una \"Cédula del Cliente\"');\n            $(\"#nombreC\").attr('style', \"border-radius: 5px; border:#FF0000 1px solid;width: 300px;\");\n            mensaje = true;\n        } else {\n            $(\"#nombreC\").attr('style', \"border-radius: 4px; border:#ccc 1px solid;width: 300px;\");\n        }\n        if ($(\"#cedulaV\").val() === \"\") {\n            mensajeError('Debe Seleccionar una \"Cédula del Vendedor\"');\n            $(\"#cedulaV\").attr('style', \"border-radius: 5px; border:#FF0000 1px solid;width: 300px;\");\n            mensaje = true;\n        } else {\n            $(\"#cedulaV\").attr('style', \"border-radius: 4px; border:#ccc 1px solid;width: 300px;\");\n        }\n        if ($(\"#forma_pago\").val() == \"efectivo\") {\n            if ($(\"#dinero_pagado\").val() === \"\") {\n                mensajeError('Debe Seleccionar una \"Cédula del Vendedor\"');\n                $(\"#dinero_pagado\").attr('style', \"border-radius: 5px; border:#FF0000 1px solid;width: 300px;\");\n                mensaje = true;\n            } else {\n                $(\"#dinero_pagado\").attr('style', \"border-radius: 4px; border:#ccc 1px solid;width: 300px;\");\n            }\n        }\n        if (parseInt($(\"#devuelta\").val()) < 0) {\n            mensaje = true;\n            mensajeError(\"Saldo Ingresado es menor al valor de la lista de compras!\");\n        }\n        if (mensaje === false) {\n            var date = new Date();\n            var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n            $.ajax({\n                url: \"/account/facturacion/\",\n                type: 'POST',\n                data: {\n                    'data': salida,\n                    'usuario': $(\"#usuario\").attr(\"class\"),\n                    'descuento': $(\"#descuento\").val(),\n                    'forma_pago': $(\"#forma_pago\").val(),\n                    'dinero_pagado': $(\"#dinero_pagado\").val(),\n                    'cliente': $(\"#nombreC\").val(),\n                    'vendedor': $(\"#cedulaV\").val(),\n                    'fecha': fecha,\n                    'numeroFactura': $(\"label[name='numeroFactura']\").text().trim(),\n                    'fechaModificacion': ''\n                },\n                error: function(respuesta) {\n                    \n                },\n                success: function(respuesta) {\n                    \n                    table2.ajax.reload(null, true);\n                    $(\"#example_wrapper\").hide();\n                    $(\"#pagar\").hide();\n                    $(\"#print\").click();\n                    mensajeExito(\"Se Facturo!.\");\n                    setTimeout(function() {\n                        if (confirm('Desea Imprimir?')) {\n                            window.open('/imprimir/' + $(\"#example2 tbody tr\").eq(0).find(\"td\").eq(0).find(\"input\").attr(\"class\"), '_blank');\n                        }\n                        window.sessionStorage.setItem('Formulario', '[]');\n                        location.reload();\n                    }, 500);\n                }\n            });\n        }\n    });\n    $(\"#actualizar\").hide();\n    $(\".alert\").hide();\n    $(\"#guardar\").show();\n\n    $(\"#descuento\").change(function() {\n        var calculo = parseInt($(\"#valorT\").text()) - (parseInt($(this).val()) / 100) * (parseInt($(\"#valorT\").text()));\n        $(\"#valorF\").val(calculo.toFixed(2));\n        $(\"#dinero_pagado\").val(calculo.toFixed(2));\n        var devuelta = 0;\n        $(\"#devuelta\").val(devuelta.toFixed(2));\n\n    });\n    $(\"#cancelar\").click(function() {\n        window.sessionStorage.setItem('Formulario', '[]');\n        location.reload();\n    });\n    verificar();\n    $(\"#pagar\").click(function() {\n        var productoInvalido = false;\n        for (var i = 0; i < salida.length; i++) {\n            if (salida[i].productoID === -1) {\n                productoInvalido = true;\n            }\n        }\n        // se verifica si todos los items de la lista de productos tienen elementos seleccionandos por el elemento tipo popup\n        if (productoInvalido) {\n            mensajeError(\"Debe seleccionar Productos en todos los registros.\", \"Importante!\");\n        } else {\n            //se muestra modal de forma de pago\n            var valor = parseInt($(\"#sumatoria\").val());\n            $(\"#valorT\").text(valor);\n            valor = parseInt(valor) - (parseInt($(\"#descuento\").val()) / 100) * valor;\n            $(\"#valorF\").val(valor);\n            $(\"#dinero_pagado\").val($(\"#valorF\").val());\n            var dev = 0;\n            $(\"#devuelta\").val(dev.toFixed(2));\n            $('#myModal3').modal('show');\n        }\n    });\n    $(\"#ingresar\").click(function() {\n        $(\"#guardar\").show();\n        $(\"#actualizar\").hide();\n        $(\"input,textarea\").val(\"\");\n        $(\".alert\").hide();\n        $('#myModal').on('shown', function() {\n            $(\"input[name='nombre']\").focus();\n        });\n    });\n    $(\"#guardar\").click(function() {\n        //se busca la cantidad existentel producto\n        var existeEnLista = false;\n        if (salida !== undefined) {\n            for (var i = 0; i < salida.length; i++) {\n                if (salida[i].productoID === $(\"#ddlNames\").val()) {\n                    existeEnLista = true;\n                }\n            }\n        }\n        if (existeEnLista === false) {\n            var producto = parseInt($(\"#ddlNames option:selected\").attr(\"class\"));\n            var mayor = -1;\n            if (salida !== undefined) {\n                for (var f = 0; f < salida.length; f++) {\n                    if (salida[f] !== undefined) {\n                        if (salida[f] !== null) {\n                            if (salida[f].indice > mayor) {\n                                mayor = salida[f].indice;\n                            }\n                        }\n                    }\n                }\n            }\n            var date = new Date();\n            var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n            salida[mayor + 1] = {\n                'indice': (mayor + 1),\n                'fecha': fecha,\n                'producto': \"Seleccionar...\",\n                'precio': producto,\n                'productoID': -1,\n                'valor': 0,\n                'cantidad': 1,\n                'estado': 'Activo'\n            };\n            mostrar(salida);\n            verificar();\n            //window.sessionStorage.setItem('Formulario', JSON.stringify(salida));\n        } else {\n            alert(\"El producto ya Existe\");\n        }\n    });\n});\n\nfunction mostrar(salida) {\n    table = $('#example').DataTable({\n        \"data\": salida,\n        \"columns\": [{\n            \"data\": \"indice\",\n            title: \"<input type='checkbox' id='example-select-all'>\"\n        }, {\n            \"data\": \"indice\",\n            title: \"N°\"\n        }, {\n            \"data\": \"fecha\",\n            title: \"Fecha\"\n        }, {\n            \"data\": \"producto\",\n            title: \"Producto\",\n            render: function(data, type, row) {\n                var x = '<a  href=\"#\" \"name\"=\"' + row.indice + '\" autofocus onClick=\"openWindow(' + row.indice + ')\"  class=\"\" id=\"producto' + row.indice + '\" >' + data + '</a>';\n                return x;\n            }\n        }, {\n            \"data\": \"valor\",\n            title: \"Valor\"\n        }, {\n            \"data\": \"cantidad\",\n            title: \"Cantidad\",\n            render: function(data, type, row) {\n                $(\"#in_can\" + row.indice).change(function() {\n                    if (salida[row.indice].valor !== '') {\n                        var date = new Date();\n                        var fecha = date.getDate() + '/' + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \" \" + formatAMPM(date);\n                        salida[row.indice].cantidad = $(this).val();\n                        salida[row.indice].precio = parseInt(salida[row.indice].valor) * parseInt($(this).val());\n                        salida[row.indice].fecha = fecha;\n\n                        comprovarCantidadesR();\n\n                        window.sessionStorage.setItem('Formulario', JSON.stringify(salida));\n                        mostrar(salida);\n                    }\n                });\n                return '<input id =\"in_can' + row.indice + '\" type=\"number\" step=\"1\" min=\"1\" onkeypress=\"return event.charCode >= 48 && event.charCode <= 57;\" max=\"10000\" value=\"' + data + '\">';\n            }\n        }, {\n            \"data\": \"precio\",\n            title: \"Precio\",\n            render: function(data, type, row) {\n                return separar(data + '', ',');\n            }\n        }, {\n            \"data\": \"estado\",\n            title: \"Estado\"\n        }, {\n            \"data\": \"indice\",\n            title: \"Acción\",\n            render: function(data, type, row) {\n                return '<div class=\"btn-group\"><img type=\"button\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABhUlEQVRIS72VSy5FQRCGvzvAAjDxTCSGYsIKrMAjEo81uFiI5xIQEq8VWAETMSWEMMEGTMgv3VIp55w+59zcW8Ou6v+v+qu7qkGbrdFmfFIE3cACMAtMAwMhoTfgGrgEzoCvvESLCAS8DQwlqnwBNoDzrLgsAp0JuFlRvt1A9G3vZRHs1ACPmLqrav7ME0iW04qZ+/B54CIeWgI19MFp/g6sAXtAv0OKvn2gz/iegfHYeEuwDBw5kCXgBJgArgyJwGeAO2AFOHT3hHWsM0sgaSSRNQsUSeSP4JOBuNfdE9aiJ3gCRjP09yQKUeZ54PI/AmOeQJ+lK6fBlkQhReDyC6un4wRlJFLmsts6EqWaHGWJTS4iyWxy0TP1mn+GlySSVeCgzDPVR7sHhk3wB7AOaM74pygS+TQerC/3owlX31zjtxWbC2P8F6Pjwy6SboXyq1QiqTaB5LiOoCpVe2EkwSLN1Qttt39WZmWqL1qZU8BgQHgFbgKoNlmtlVlFntzYVAUtk/wAB7peGclDh8AAAAAASUVORK5CYII=\" onClick=\"eliminarR(&#39;' + data + '&#39;)\" class=\"btn btn-default fa fa-trash-o\" ></img></div>';\n            }\n        }],\n        'columnDefs': [{\n            'targets': 0,\n            'searchable': false,\n            'orderable': false,\n            'className': 'dt-body-center',\n            'render': function(data, type, full, meta) {\n                if (true) {}\n                return '<input type=\"checkbox\" class=\"' + $('<div/>').text(data).html() + '\">';\n            }\n        }],\n        fnFooterCallback: function(nRow, aaData, iStart, iEnd, aiDisplay) {\n            var api = this.api();\n            var size = 0;\n            aaData.forEach(function(x) {\n                if (x.estado === 'Activo') {\n                    size += (x.precio);\n                }\n            });\n            if ($(\"#example tfoot\").length === 0) {\n                $('#example').append('<tfoot><tr><th>Total</th><th></th></tr></tfoot>');\n            }\n            $(\"#example tfoot tr th\").eq(1).text(\"$\" + separar(size + '', ','));\n            $(\"#sumatoria\").val(size);\n        },\n        \"destroy\": true,\n        select: true,\n        responsive: true,\n        altEditor: true,\n        dom: 'Bfrtip',\n        lengthMenu: [\n            [ 10, 25, 50,100,500, -1 ],\n            [ '10 Filas', '25 Filas', '50 Filas', '100 Filas', '500 Filas', 'Mostrar Todo' ]\n        ],\n        buttons: [\n              {\n                text: 'Filas',\n                extend: 'pageLength'\n              },\n            {\n                text: 'Mostrar Columnas',\n                postfixButtons: ['colvisRestore'],\n                extend: 'colvis'\n            },\n            {\n                text: 'Eliminar Selección',\n                className: 'eliminar',\n                action: function(e, dt, node, conf) {\n                  var total = 0;\n                  temporal = [];\n                  var s = 0;\n                  var ides = [];\n                  var inputs = $(\"#example tbody tr\").find(\"td\").find(\"input[type='checkbox']:checked\");\n                  for (var i = 0; i < inputs.length; i++) {\n                      if (inputs.eq(i).is(\":checked\")) {\n                          if (inputs.eq(i).attr(\"class\") !== null) {\n                              ides[s] = inputs.eq(i).attr(\"class\");\n                              s++;\n                          }\n                      }\n                  }\n                  if (inputs.length > 0) {\n                      if (confirm('Esta Seguro?')) {\n                          toastr.options = {\n                              closeButton: true,\n                              debug: false,\n                              newestOnTop: false,\n                              progressBar: true,\n                              positionClass: \"toast-top-center\" || 'toast-top-right',\n                              preventDuplicates: false,\n                              timeOut: \"1000\",\n                              onclick: function() {\n                              }\n                          };\n                          //success error warning info\n                          toastr.warning(\"Los inventarios se han Eliminado!.\", \"Importante!\");\n                          eliminar(ides);\n                      }\n                  } else {\n                      mensajeError(\"Debe checkear elementos de la lista para poder eliminarlos.\");\n                  }\n                }\n            },\n            {\n                extend: 'collection',\n                text: 'Exportar',\n                buttons: [{\n                    extend: 'pdfHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    },\n                    //download: 'open',\n                    customize: function(doc) {\n\n                        doc.content.splice(1, 0, {\n                            margin: [0, 0, 0, 12],\n                            alignment: 'center',\n                            image: 'data:image/png;base64,' + $(\"#imagen\").attr(\"class\") + '='\n                        });\n                    }\n                }, {\n                    extend: 'csvHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'copyHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'excelHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    },\n                    customize: function(xlsx) {\n                        var sheet = xlsx.xl.worksheets['sheet1.xml'];\n                        $('row c[r^=\"C\"]', sheet).attr('s', '2');\n                    }\n                }]\n            }\n        ]\n    });\n\n    $(\"select[id*=ddlNames]\").customselect();\n    $(\"select[id*=ddlNames]\").customselect({\n        \"csclass\": \"custom-select\", // Class to match\n        \"search\": true, // Is searchable?\n        \"numitems\": 4, // Number of results per page\n        \"searchblank\": false, // Search blank value options?\n        \"showblank\": true, // Show blank value options?\n        \"searchvalue\": false, // Search option values?\n        \"hoveropen\": false, // Open the select on hover?\n        \"emptytext\": \"\", // Change empty option text to a set value\n        \"showdisabled\": false // Show disabled options\n    });\n    $('#example-select-all').on('click', function() {\n        // Get all rows with search applied\n        var rows = table.rows({\n            'search': 'applied'\n        }).nodes();\n        // Check/uncheck checkboxes for all rows in the table\n        $('input[type=\"checkbox\"]', rows).prop('checked', this.checked);\n    });\n\n}\n\nfunction mensajeError(msj) {\n    toastr.options = {\n        closeButton: true,\n        debug: false,\n        newestOnTop: false,\n        progressBar: true,\n        positionClass: \"toast-top-center\" || 'toast-top-right',\n        preventDuplicates: false,\n        timeOut: \"5000\",\n        onclick: null\n    };\n    //success error warning info\n    toastr.error(msj, \"Advertencia!\");\n}\n\nfunction mensajeExito(msj) {\n    toastr.options = {\n        closeButton: true,\n        debug: false,\n        newestOnTop: false,\n        progressBar: true,\n        positionClass: \"toast-top-center\" || 'toast-top-right',\n        preventDuplicates: false,\n        timeOut: \"1000\",\n        onclick: null\n    };\n    //success error warning info\n    toastr.success(msj, \"Felicidades!\");\n}\n\nfunction mensajeAdvertencia(msj) {\n    toastr.options = {\n        closeButton: true,\n        debug: false,\n        newestOnTop: false,\n        progressBar: true,\n        positionClass: \"toast-top-center\" || 'toast-top-right',\n        preventDuplicates: false,\n        timeOut: \"5000\",\n        onclick: null\n    };\n    toastr.warning(msj, \"Importante!\");\n}\n\nfunction mensajeInformacion(msj) {\n    toastr.options = {\n        closeButton: true,\n        debug: false,\n        newestOnTop: false,\n        progressBar: true,\n        positionClass: \"toast-top-center\" || 'toast-top-right',\n        preventDuplicates: false,\n        timeOut: \"5000\",\n        onclick: null\n    };\n    toastr.info(msj, \"Felicidades!\");\n}\n\nfunction comprovarCantidadesR() {\n    for (var m = 0; m < salida.length; m++) {\n        var nombre = $(\"#example tbody\").find(\"tr\").eq(m).find(\"td\").eq(3).text();\n        if (nombre !== \"Seleccionar...\") {\n            var id = salida[m].productoID;\n\n            $.ajax({\n                url: \"/account/facturacion/producto\",\n                type: 'POST',\n                data: {\n                    'id': id,\n                    'indice': m\n                },\n                error: function(respuesta) {\n                    \n                },\n                success: function(respuesta) {\n                    var indice = respuesta.indice;\n                    if (respuesta !== undefined) {\n                        var cantidad = parseInt($(\"#example tbody\").find(\"tr\").eq(indice).find(\"td\").eq(5).find(\"input\").val());\n                        var cantidadExistente = parseInt(respuesta.cantidad);\n\n                        if (cantidad > cantidadExistente) {\n\n                            $(\"#pagar\").attr(\"disabled\", true);\n                            $(\"#actualizar2\").attr(\"disabled\", true);\n                            $('#in_can' + indice).attr('style', \"border-radius: 5px; border:#FF0000 1px solid;\");\n                            mensajeError(\"La cantidad existente en Inventario de \" + nombre + \" es menor.(Actual=\" + cantidad + \",Existente=\" + cantidadExistente + \")\");\n                        } else {\n                            $(\"#pagar\").attr(\"disabled\", false);\n                            $(\"#actualizar2\").attr(\"disabled\", false);\n                            return false;\n                        }\n                    } else {\n                        mensajeError(\"El producto \" + nombre + \" fue retirado de inventario.\");\n                    }\n                }\n            });\n        }\n    }\n}\n/**\n * Seccion de la segunda Tabla\n **/\nfunction ver2(id) {\n    $.ajax({\n        url: \"/account/facturacion/ver/\",\n        type: 'POST',\n        data: {\n            'id': id\n        },\n        error: function(respuesta) {\n            \n        },\n        success: function(respuesta) {\n            $(\"#id\").val(respuesta._id);\n            salida = respuesta.data;\n            aux = respuesta.data;\n            mostrar(salida);\n            $(\"#actualizar2\").show();\n            $(\"#guardarFactura\").hide();\n            verificar();\n            $(\"#facturar\").click();\n            $('#myModal2').modal('hide');\n        }\n    });\n}\n\nfunction eliminar2(id) {\n    if (confirm('Esta Seguro?')) {\n        $(\".alert\").hide();\n        $.ajax({\n            url: \"/account/facturacion/\",\n            type: 'DELETE',\n            data: {\n                'id': id\n            },\n            error: function(respuesta) {\n                \n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    mensajeAdvertencia(\"La Factura ha sido Anulada!.\");\n                    table2.ajax.url(\"/account/facturacion/listar/\").load();\n                }\n            }\n        });\n    }\n}\n$(document).ready(function() {\n    if (window.sessionStorage.getItem('Formulario') !== null) {\n        if (JSON.parse(window.sessionStorage.getItem('Formulario')).length > 0) {\n            salida = JSON.parse(window.sessionStorage.getItem('Formulario'));\n            mostrar(salida);\n\n        }\n    }\n    setTimeout(function() {\n        comprovarCantidadesR();\n    }, 1000);\n\n    verificar();\n    $(\"#actualizar2\").hide();\n    $(\"#actualizar2\").click(function() {\n        $.ajax({\n            url: \"/account/facturacion/\",\n            type: 'PUT',\n            data: {\n                '_id': $(\"#id\").val(),\n                'vendedor': $(\"#cedulaV\").val(),\n                'cliente': $(\"#nombreC\").val(),\n                'descuento': $(\"#descuento\").val(),\n                'dinero_pagado': $(\"#dinero_pagado\").val(),\n                'data': salida\n            },\n            error: function(respuesta) {\n                \n            },\n            success: function(respuesta) {\n                if (respuesta !== '') {\n                    \n                    table2.ajax.url(\"/account/facturacion/listar/\").load();\n                    mensajeInformacion(\"Se ha Actualizado la Factura!.\");\n                }\n            }\n        });\n    });\n    var contador = 0;\n    table2 = $('#example2').DataTable({\n        \"ajax\": {\n            \"url\": \"/account/facturacion/listar\",\n            \"dataSrc\": \"\"\n        },\n        \"order\": [\n            [1, \"desc\"]\n        ],\n        \"columns\": [{\n            \"data\": \"_id\",\n            title: \"<input type='checkbox' id='example-select-all2'>\"\n        }, {\n            \"data\": \"numeroFactura\",\n            title: \"N° Factura\"\n        }, {\n            \"data\": \"fecha\",\n            title: \"Fecha de Creación\"\n        }, {\n            \"data\": \"fechaModificacion\",\n            title: \"Fecha de Modificación\"\n        }, {\n            \"data\": \"usuario\",\n            title: \"Usuario\"\n        }, {\n            \"data\": \"data\",\n            title: \"Valor\",\n            render: function(data, type, row) {\n                var total = 0;\n                for (var i = 0; i < data.length; i++) {\n                    total += data[i].precio;\n                }\n                return '$' + separar(total + '', ',');\n            }\n        }, {\n            \"data\": \"estado\",\n            title: \"Estado\",\n            render: function(data, type, row) {\n                if (row.estado === 'Anulado') {\n                    return '<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACLklEQVRIS7XVSajPURQH8M8zRYYkhVKiDKGMhSQrZWFakGRhgWR4JYqsrCiSRMoUUoaForBAEooUFoREGRMbG9PC2Hnd97puv////Rfe2d17zznfe7/ne85t0sHW1MH5NQIwGPMwEQPwC29wBxfxud4l6wEMwQ4sQqcaSb5gH7bha5VPLYA5OIk+WdATjE7rFxiKzmn9DHPxvASpAojk59Alc96K/mhOe1fSBY7TRvNHTMPLHKQECFoeZjf/ic24jtvongUvQDccQ8+0/wBTEHEtVgKcweIsyWH0wMIiebj8xiU8xaYsZjUOVAGEWl7XKOg77MEu/MCalKS1BjkrUYcRVQARtD/zvJok+RbbcRpT03mo5hrWJnoGYVwWOxaPS4qOYHmhmkPJcUVB3R9sSfWagVXol8Uuw4kS4AJCQf/DQhg7S4DzmF8je3TvXYT+u2ICRtW5yUbsLgH2ZjrPYwN4fRJAvj8dBzGmAii6/2wJsASnCuejCP6D8yqLTr+B8dlh+IYi35cAvdNmr+T8AcPwvZ2iBF3RYK12EzNbF2WjhRxDHWEh2XVZYN/U4dFgn/AtO3uEkGbYbFyuBRAtfx8j0yh+hcmJ53hhbjF7IvG9NOiiFkHx0typatgNx600+9th55/jmFWzipfV/HBiFIcK4pNpxOLmK8vkZZHLRDGuQ0EbEK8qLdQSL426tXFeOjXyZUZM8DsJA9Moji8zKGmRYj1rFKC9PDXPOxzgL+vhahnrzWfrAAAAAElFTkSuQmCC\" >' + x.precio;\n                } else {\n                    return '<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAE+UlEQVRIS7WVa2wUVRTH/3dmdva92+2DtoBtofIqUlIWlvKUIkLkoVjCwxAiYhAC1AbEDwZJMGLUYHzhI0gRNaSEpqY8JYFKEWgBC20FWmmFUi2tbWFfs7Od7s7OjJntQli6UL9wk/Nl7p3zu+f8z7mH4Akv8oT9o19AydfGFJ114Hir2TQjFFIyaQKKouT2gN9/vt3ddeHVDb6mx13ysYBTByesG5Set9FiTc/UsiCsRgZFgggERIgBGYLnbmdby7mySYt+X08I5FigmICSErDp8fnHM4bNyYuzEAJFBAgBlBAUWYAi+6HIHEggiKCQiOabNc1c+9VZz67++9bDkJiAs8fmXhw3camDoXgQ2gQQLaBmUxHvO1ckDxTJDcrnAy0no+lGfdvtWzXT5hR0RkH6AKpOPPfVyGcWrTdog6AYG9xeBoWbi7CpcDFyxqZBkTicLK/CgdIqfP7RFOhlHjTHAVIyrrXU14zL/83+YBRRgNKigTn2SavOpiZbjIQygjCJ+PjTU9i6bRdmz56KXw5uhyK5MGZ8Ia43tuL7b/KxbF48aM4bNj89GrX1h9+c8frNnfcgUYCLx14uHjnW/gqrVUAxCSB0It7YsA8//HQYQ4ekoal+HxTJCUP8YohiCFveno0tBWmgvb0AWjTgCk/qG7vLxi5ZAkmFRAHqfl3aNCJ79DAoUgQQjw92VOC97XswMy8XJ45ugyx5kZWzCTdutuG7nUuwYoEJFMf1QgIELWSwv6Ju/6hVbwmtUYBvd5gGzJq6smFwui4BNANC20DoONxxabB6/R68s3kxch2pgMzj0LFrKD5Qhd1fTIQp5AHl48I6UEI3nHGTca72x+cXrnOWRwF27zBmz5u19ozN4rbKehMoxgpCWUAoA0DpACiRMu2GIvNQJB8Q9IDmfRGADyQkgjdm4XTDkVUL1t7ZGwXY9ZkhdaZ9xbW0AVI8J4nwBlgMGpwEQvQA0USyqfZBIFyqCPGguv2geB58lxfcXQHpCYArbjIqL+2d+2KB+3gfDWqO5jdnZwwYIlEenGlgoDPKsOckA4TpLQpFBpQAIAZACUI4Jd4OH45UBrFycghEo8dtkiaUXynOem1jT0sfQHXpzJ+znhqaz5IOyHoj9lcwuHXbi4VzrBg+VA8KMkgoBBIMgncLOHdZwIUGBVtfUqAnPKBPwVUfaTzfXjZmzRqIfQAln9imTncsO5mkNOsUDaCwelS3pqCorBN+gSAlSQeGpsDxIpyeAGZkG7E61wkdPOEA/TYHaq9XbJ228ur2mH2gfrxUbN83KsOxXM/VQdGwUBgGsiYOTc5EtDq1CEkEcdogRie4YCNtYeHVJZuHoa7r30Z7fvnIR3ayulFQAO3yXMcfEzLHj6DcNf9vXJifRqPL6zpdXTl/7fuuC70l17sefosMAMzZo9ikL991lI7LtI8w8w2A6IsNIgx6zFlo7Oy4u6f4zJqdpR71RuphDoihgeocgCVi5qJtGYXTc6e/kGSx2rSyH1pZAKWI6KHNCFIG+IWAUP3n5drNn1758K9mqf0B5yqkO1YEdASigkwAjHlT2OHzJ6ZOGp6ZYjeaLcmEaAjv93raOroajlf+c/7QyUBdxBkP4J7dD/lRE00FqenSA1DbmAWgdhvFsqCCwfD0Uh+zYMR6IhDhwfzHiqA/UdULqaaKeF/Ix/3U79Dvj9jf/n8ciQ83QfXpMwAAAABJRU5ErkJggg==\" >'+row.estado;\n                }\n            }\n        }, {\n            \"data\": \"_id\",\n            title: \"Eventos\",\n            render: function(data, type, row) {\n                var imprimir = '<img title=\"Esta función es para Imprimir el registro de la columna!\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAEoElEQVRIS5WWXUwjVRTHz21num2hUMqHNUGIoQRoSwyVj5BAqe5ukRLeNoTEkBiNmuiDBg0J+AJPPhgfJH5E9HE1MasPomZXEkPENU13qanZQIOloSwBWqC0ZSm0M9O55kyZpi3FXW9zM9O5M//fOeeec2YIFA1KKfF6vS0sy+oBgOYv8zyf+0sIIWq1+thsNq8TQjLFOvJ/UrwQCASuLC8v3+zr67smCIIgiiLIM5PJ5M5FUSSU0phGo3nPZrMtPDFgaWlJfXBw8OPQ0JATLU6n04BHhMgAhUIh6TEMA4lEYpPjuNc6OzuXSkEueICAvb29hcHBwesoFIvF4OzsDCilOetlgFqthpqaGtjZ2VlTqVSvtLS03C+GlATs7+8vuFyu62jx6emp5EV+qORzlUoF5eXlkmeBQODPurq6GxaLJZwPeSIAx3EFHiAAvcAQoTghBL2IEkKu9vf3//2/AIlEQvICRVBYDhUe5YleRCKRKMMwV3t6eh4PCIfDUohQEAGpVEoSw5EPwHUcVVVVcHh4GOV5/nIA5v/GxoYqGAyWRaPRW06n80WWZSVxDIM85A2WrcfruNm7u7tHuw8fupwu10p+XUh7cHR0VHnv3so7GcL2x2NR1dPGGmunrcOAIiePTiDNpaUQARDQaDTAsoxUghR/lAJu9sHBIf+H+y9fpV6/b9CpvhsYGPgWQRLg7t3f32TKjJ8SVsv89MNNqKuuAmu7FahIIc1xeR6QgtLGqMkATOcH/+xAS0cfVMJhpL6uYqS7u/s+ViPjdru/SbFPjYaPUnDyKAFpTgCRAvAZEQRBBAGPOEWsBQoZUd7gLEDeG4WSAfaKFjoaGNDR2LsvDQ9/QgKBQEUiFvs5zFX2/+LeArxfyKCIWCR0WTM4v46xOPfoBWsFNFamPnY6ne+T1dVVw/Hx8W2D8dnu37zbcJq+tG+VJFCa36tEUDEA7c+ooYzhvrDb7W+R9fX1mng8fqetre15Oc8fY2tuGcODfYrjeOB4DrAgBZ6DVCqN7eUru93+BoaoNhaL3WltbbXJef0kABTH9EXRLCQLwImpnU6nv3Y4HK9fAGCey1X7XyA0Jl9YEASpZ8mT5/nSgMXFRfD5fFBfXw9arbaAIWeMnDXoAU60OBQKQWNjI/T29gLCRFHMhsjv91fH4/HbFoulCxemp6fB4/HA1NQUWK3WXP+5zBv0OBKJwOzsLBgMBpiYmJAiIAjC5w6H422yvb2t2drautXe3j6MN/v9fskDtKa6urogzy+DJJNJWFtbo3q9HpqamgjuQyKRmB4ZGflQqmS3231tY2PjRjAYVKrV6qra2tohk8mkLQ5RyTcWIVLc/X4/v7m5+Ws8Ht81Go2JsbGxL5ubm4MX3gcmk8kxOTm50NXVpcMeI8c924tKDwytz+fj5+bmXvZ6vd+f3yWVeO4p7KYoMj4+/qrdbv9MqVQqikWlG7Itu+BrA6/hR4DH4/lgfn7+I1wmhBQCZmZmmFAoxGQymecopbZkMqlIJpNKnucZQRCUlFKcyMAHqUKhyDAMI7AsK+h0OlGn0+Hig4aGhhWz2cyPjo5KLeFfbFAuRnCHY/gAAAAASUVORK5CYII=\" type=\"button\" id=\"imprimir\" onclick=\"window.open(&#39;/imprimir/' + data + '&#39;, &#39;myWindow&#39;, &#39;width=800,height=600&#39;)\"class=\"btn btn-default fa fa-print\">';\n                var editar = '<img title=\"Esta función es para Modificar el registro de la columna!\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAEJUlEQVRIS7XUaUxcVRQH8P+9b5mBGaAMDAgFSqFA0Rq1otVih0Uje0ywqR+MidYFqyZuYYbR2OBSNps0VhMT0doYUxNM1bBpoi3TGk3oYrBVWwkBWgYoywADszBv3rvXTBNDkbYUTN+X9+G+c3733nfOIbjJD7nJ+bEUsHbdB8ILQakBjP0JRf8t9m31r3Yji4EaR7VBv0aIkbNbOQd1zw88NKdMbuPQatGYd3Y1yAJg/+lWqskPp5i39VCKEZUjjijQPPxihsvdvxNBXclqTrIA2By7DLqE3ihDplMSEaOqfjYxfaZS5fMeBtUFLpRgYOIRfL1DW8lJFgBr10sGfeI5szFTnfQNEo+/vwqcfQAi7AAnv4bLCYpPHbOgwVINEH6jyJVAjkj1ZVGGjWddnp5SUOwFI3aEiW+JPmRBoHcI0M0FiVdmdZYPVw6AE9gcH1MQE6PqPqjC4yCSPd2cG0Z0mO8bcZQIRDISyCkcyu9a/QPf3AiyuIpqW2R4Yw9AIDAZY+1T7nFzcmzhJS5hWiBYc2H02JOyHHUOqpqjUf95rc7y5XLI0j6o7TLCT/ZHims/8fDxJyRR/0PgnbvbUup52kU7BmBzNEWErzuuqu4sf3BWQIOl6Xr/5OqdHELm8VF0eFrzrM+5U2Pq3nUJlhmjGy6PYX7t0PTJN6KM6Qf93skNijq3iTXmWq+FXHtU1PwcDU2tT4nPbXa6up9lPNCUZHpQcFajL6Z+NMvl7rUnGjfXzShDBb7gRAQa8t+/2nVdfxbZHfeLRCoy6+9sG/Odft4gmQ7Ovbvpl1Ai4+6+Ao/i3J5kym0Zc5++K8j8g6gv+O6/yPLDzup4ShSlxDhjzuFLs92vMwHN2GM5kVrL9YP+4xmUkxfi4+5pGJ/87T2NBb9AU/6PVyLLA6GvrUcrQcnmFNOW752Tp15kErdhT97Q5URvHrkXKrVSKvcwLRCJpkLryoFQhP3oFsrFZ6J1Gc3Tyt+vMj/fBYncLgi0Kkyf/Kmndr0DNkcjGvNtqwNCUTVdG0DwismQeWjK0/scOD+zPqLgsELhGVba/Zg31KChcPfqgcvXdSwbhH0OkLdvico7BSMwNXwyToH3M3B+CE2F+/8fEIq2HdkKkO0A5ZSKLqaqr4HyGBD+NBoKDywLtLS0yJGRkTGapsUGAoERnU6XGB8ff350dDSVMZYqSVI3ALOqqtlfOfVzf8wIj474tYScaFb78kY2XlpaOvEvsqiK2traHgNQBSCVEBJa83HO+wkhw4yxLM55gFKaxBhzUkoDAJIBhN4q5zyGEDLDOQ/Np2FZlk8UFxePLinT9vb2tPLy8v7W1tbbKioq/iKE8M7OTnNYWNi0oig6r9err6ysdHV0dGSKojhcVFTk7ezsTOecq2VlZRdW3mjLjctl1v8ByA6+KFA/i54AAAAASUVORK5CYII=\" onclick=\"ver2(&#39;' + data + '&#39;)\" type=\"button\" class=\"btn btn-default fa fa-edit \" ></img>';\n                var eliminar = '<img title=\"Esta función es para Eliminar el registro de la columna!\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABhUlEQVRIS72VSy5FQRCGvzvAAjDxTCSGYsIKrMAjEo81uFiI5xIQEq8VWAETMSWEMMEGTMgv3VIp55w+59zcW8Ou6v+v+qu7qkGbrdFmfFIE3cACMAtMAwMhoTfgGrgEzoCvvESLCAS8DQwlqnwBNoDzrLgsAp0JuFlRvt1A9G3vZRHs1ACPmLqrav7ME0iW04qZ+/B54CIeWgI19MFp/g6sAXtAv0OKvn2gz/iegfHYeEuwDBw5kCXgBJgArgyJwGeAO2AFOHT3hHWsM0sgaSSRNQsUSeSP4JOBuNfdE9aiJ3gCRjP09yQKUeZ54PI/AmOeQJ+lK6fBlkQhReDyC6un4wRlJFLmsts6EqWaHGWJTS4iyWxy0TP1mn+GlySSVeCgzDPVR7sHhk3wB7AOaM74pygS+TQerC/3owlX31zjtxWbC2P8F6Pjwy6SboXyq1QiqTaB5LiOoCpVe2EkwSLN1Qttt39WZmWqL1qZU8BgQHgFbgKoNlmtlVlFntzYVAUtk/wAB7peGclDh8AAAAAASUVORK5CYII=\"type=\"button\" onclick=\"eliminar2(&#39;' + data + '&#39;)\" class=\"btn btn-default fa fa-trash-o\" ></img>';\n                if (row.estado === 'Anulado') {\n                    eliminar = '';\n                    editar = '';\n                }\n                return '<div class=\"btn-group\" >' + imprimir + editar + eliminar + '</div>';\n            }\n        }],\n        'columnDefs': [{\n            'targets': 0,\n            'searchable': false,\n            'orderable': false,\n            'className': 'dt-body-center',\n            'render': function(data, type, row, meta) {\n                if (row.estado === 'Anulado') {\n                    return '<input disabled type=\"checkbox\" class=\"' + $('<div/>').text(data).html() + '\">';\n                }\n                return '<input type=\"checkbox\" class=\"' + $('<div/>').text(data).html() + '\">';\n            }\n        }],\n        fnFooterCallback: function(nRow, aaData, iStart, iEnd, aiDisplay) {\n            var api = this.api();\n            var size = 0;\n            aaData.forEach(function(x) {\n                if (x.estado === 'Activo') {\n                    for (var i = 0; i < x.data.length; i++) {\n                        size += x.data[i].precio;\n                    }\n                }\n            });\n            if ($(\"#example2 tfoot\").length === 0) {\n                $('#example2').append('<tfoot><tr><th>Recaudado:</th></th><th></tr></tfoot>');\n            }\n            $(\"#example2 tfoot tr th\").eq(1).text(\"$\" + separar(size + '', ','));\n        },\n        \"destroy\": true,\n        select: true,\n        responsive: true,\n        altEditor: true,\n        dom: 'Bfrtip',\n        lengthMenu: [\n            [ 10, 25, 50,100,500, -1 ],\n            [ '10 Filas', '25 Filas', '50 Filas', '100 Filas', '500 Filas', 'Mostrar Todo' ]\n        ],\n        buttons: [\n              {\n                text: 'Filas',\n                extend: 'pageLength'\n              },\n            {\n                text: 'Mostrar Columnas',\n                postfixButtons: ['colvisRestore'],\n                extend: 'colvis'\n            },\n            {\n                text: 'Eliminar Selección',\n                className: 'eliminar',\n                action: function(e, dt, node, conf) {\n                    if (confirm('Esta Seguro?')) {\n                        toastr.options = {\n                            closeButton: true,\n                            debug: false,\n                            newestOnTop: false,\n                            progressBar: true,\n                            positionClass: \"toast-top-center\" || 'toast-top-right',\n                            preventDuplicates: false,\n                            timeOut: \"1000\",\n                            onclick: function() {\n                            }\n                        };\n                        //success error warning info\n                        toastr.warning(\"Los inventarios se han Eliminado!.\", \"Importante!\");\n                        $(\"input[type='checkbox']\").each(function() {\n                            if ($(this).is(\":checked\")) {\n                                $.ajax({\n                                    url: \"http://\" + window.location.hostname + \":\" + window.location.port + \"/account/\" + $(\"#modulo\").attr(\"class\") + \"/\",\n                                    type: 'DELETE',\n                                    data: {\n                                        'id': $(this).attr(\"class\")\n                                    },\n                                    error: function(respuesta) {\n                                    },\n                                    success: function(respuesta) {\n                                        mostrarTabla();\n                                    }\n                                });\n                            }\n                        });\n                    }\n                }\n            },\n            {\n                extend: 'collection',\n                text: 'Exportar',\n                buttons: [{\n                    extend: 'pdfHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    },\n                    //download: 'open',\n                    customize: function(doc) {\n\n                        doc.content.splice(1, 0, {\n                            margin: [0, 0, 0, 12],\n                            alignment: 'center',\n                            image: 'data:image/png;base64,' + $(\"#imagen\").attr(\"class\") + '='\n                        });\n                    }\n                }, {\n                    extend: 'csvHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'copyHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    }\n                }, {\n                    extend: 'excelHtml5',\n                    exportOptions: {\n                        columns: ':not(:last-child)'\n                    },\n                    customize: function(xlsx) {\n                        var sheet = xlsx.xl.worksheets['sheet1.xml'];\n                        $('row c[r^=\"C\"]', sheet).attr('s', '2');\n                    }\n                }]\n            }\n        ]\n\n    });\n\n    $('#example-select-all2').on('click', function() {\n        // Get all rows with search applied\n        var rows = table2.rows({\n            'search': 'applied'\n        }).nodes();\n        // Check/uncheck checkboxes for all rows in the table\n        $('input[type=\"checkbox\"]', rows).prop('checked', this.checked);\n    });\n    $(\"#deleteAll2\").click(function() {\n        var inputs = $(\"#example2 tbody tr\").find(\"td\").find(\"input[type='checkbox']:checked\");\n        if (inputs.length > 0) {\n            if (confirm('Esta Seguro?')) {\n                inputs.each(function() {\n                    if ($(this).is(\":checked\")) {\n                        $.ajax({\n                            url: \"http://\" + window.location.hostname + \":\" + window.location.port + \"/account/facturacion/\",\n                            type: 'DELETE',\n                            data: {\n                                'id': $(this).attr(\"class\")\n                            },\n                            error: function(respuesta) {\n                            },\n                            success: function(respuesta) {\n                                mensajeAdvertencia(\"La Factura ha sido Anulada!.\");\n                                table2.ajax.reload(null, true); // user paging is not reset on reload\n                            }\n                        });\n                    }\n                });\n            }\n        } else {\n            mensajeError(\"Debe checkear elementos de la lista para poder Anular las Facturas.\");\n        }\n    });\n});\n"]}