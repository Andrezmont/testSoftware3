{"version":3,"sources":["index.js"],"names":["generarGrafica","salida1","salida2","s","data","length","push","titulo","caluculo1","Math","abs","parseInt","$","val","min","max","ajax","url","type","area","error","respuesta","console","log","success","doc","contador","i","ask","d","id","eq","attr","split","opcion","porcent","arreglo","areaActual","angulo","h","a","b","c","sqrt","pow","cos","toRadians","s1","text","areaTotal","p_total","nivel","graficar","entrada","entrada2","Chart","defaults","global","legend","display","defaultFontColor","chartRadarDOM","chartRadarData","labels","datasets","label","backgroundColor","borderColor","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","pointBorderWidth","chartRadarOptions","scale","ticks","beginAtZero","maxTicksLimit","pointLabels","fontSize","gridLines","color","options","minmax","value","isNaN","toastr","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","timeOut","onclick","warning","angle","PI","document","ready","hide","prop","trigger","step","stepItem","addClass","on","instance","this","removeClass","siblings","show","JSON","stringify","dataset","filter","change","remove","campoTexto","append","descripcion","r","form","Sform","div","Sdiv","radio","Slabel","labelA","OA","labelB","OB","labelC","OC","labelD","OD"],"mappings":"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","file":"index.min.js","sourcesContent":["var data; // variable que almacena los indicadores relacionados a un area\n\n$(document).ready(function() {\n    $(\"#tabla\").hide();\n    $(\"#chartRadar\").hide();\n    $(\"#resultado\").hide();\n    $(\"#resultado\").hide();\n    $(\"button[name='next']\").attr('style', 'background-color: #bf0000;');\n\n    $(\"button[name='next']\").prop('disabled', true);\n    $(\"#area\").trigger('focus');\n    var step = 0;\n    var stepItem = $('.step-progress .step-slider .step-slider-item');\n\n    $('.step-content .step-content-foot button[name=\"prev\"]').addClass('out');\n\n    // Step Next\n    $('.step-content .step-content-foot button[name=\"next\"]').on('click', function() {\n        var instance = $(this);\n        if (stepItem.length - 1 < step) {\n            return;\n        }\n        $('.step-content .step-content-foot button[name=\"prev\"]').removeClass('out');\n        if (step == (stepItem.length - 2)) {\n            instance.addClass('out');\n            instance.siblings('button[name=\"finish\"]').removeClass('out');\n        }\n        $(stepItem[step]).addClass('active');\n        $('.step-content-body').addClass('out');\n        step++;\n        if (step == 1) {\n            $(\"#formInicio\").hide();\n            $(\"#formCuestionario\").show();\n            $(\"#chartRadar\").hide();\n            $(\"#resultado\").hide();\n            console.log(\"PASO 2\");\n        }\n        console.log(JSON.stringify(stepItem[step]));\n        if (stepItem[step]) {\n          $('#' + stepItem[step].dataset.id).removeClass('out');\n        }\n    });\n\n    // Step Last\n    $('.step-content .step-content-foot button[name=\"finish\"]').on('click', function() {\n        if (step == stepItem.length) {\n            return;\n        }\n\n        $(\"#formInicio\").hide();\n        $(\"#formCuestionario\").hide();\n        $(\"#chartRadar\").show();\n        $(\"#resultado\").show();\n        generarGrafica();\n\n        $(stepItem[stepItem.length - 1]).addClass('active');\n        $('.step-content-body').addClass('out');\n        $('#stepLast').removeClass('out');\n        step++;\n    });\n\n    // Step Previous\n    $('.step-content .step-content-foot button[name=\"prev\"]').on('click', function() {\n        if (step - 1 < 0) {\n            return;\n        }\n        if (step == 1) {\n            console.log(\"PASO 1\");\n            $(\"#formInicio\").show();\n            $(\"#formCuestionario\").hide();\n            $(\"#chartRadar\").hide();\n            $(\"#resultado\").hide();\n        }\n        if (step == 2) {\n            $(\"#formCuestionario\").show();\n            $(\"#chartRadar\").hide();\n            $(\"#resultado\").hide();\n        }\n        step--;\n        var instance = $(this);\n        if (step <= (stepItem.length - 1)) {\n            instance.siblings('button[name=\"next\"]').removeClass('out');\n            instance.siblings('button[name=\"finish\"]').addClass('out');\n        }\n        $('.step-content-body').addClass('out');\n        $('#' + stepItem[step].dataset.id).removeClass('out');\n        if (step === 0) {\n            stepItem.removeClass('active');\n        } else {\n            stepItem.filter(':gt(' + (step - 1) + ')').removeClass('active');\n        }\n        if (step - 1 < 0) {\n            $('.step-content .step-content-foot button[name=\"prev\"]').addClass('out');\n        }\n    });\n    /**\n     * @autor:godie007\n     * @date: 2017/04/13 14:56\n     * En caso de que cambie la lista de seleccion de areas, se vuelve a cargar los indicadores relacionados a esa area\n     **/\n    $(\"#area\").change(function() {\n        /**\n         * @autor:godie007\n         * @date: 2017/04/13 14:48\n         * Se cargan los indicadores relacionados a una determinada Area\n         **/\n        $(\"#tabla\").show();\n        if ($(this).val() === \"-1\") {\n            $(\"button[name='next']\").attr('style', 'background-color: #bf0000;');\n            $(\"button[name='next']\").prop('disabled', true);\n            $(\"table.table\").hide();\n            $(\"#formCuestionario\").hide();\n        } else {\n            $(\"button[name='next']\").attr('style', 'background-color: #00ACC2;');\n            $(\"button[name='next']\").prop('disabled', false);\n        }\n        if ($(this).val() !== \"-1\") {\n            $.ajax({\n                url: \"/account/grafica/\",\n                type: 'POST',\n                data: {\n                    'area': $(this).val()\n                },\n                error: function(respuesta) {\n                    console.log(respuesta);\n                },\n                success: function(respuesta) {\n                    data = respuesta;\n                    if (respuesta.length === 0) {\n                        $(\"#tabla\").hide();\n                        $(\"button[name='next']\").attr('style', 'background-color: #bf0000;');\n                        $(\"button[name='next']\").prop('disabled', true);\n                    }\n                    $(\"#tabla tbody tr\").remove();\n                    for (var i = 0; i < respuesta.length; i++) {\n                        var campoTexto = '<input id=\"ent' + i + '\" class=\"input-medium\"  min=\"' + respuesta[i].min + '\" max=\"' + respuesta[i].max + '\" step=\"1\" onblur=\"this.value = minmax(this.value, ' + respuesta[i].min + ', ' + respuesta[i].max + ')\" type=\"number\"value=\"' + respuesta[i].min + '\">';\n                        $(\"#tabla tbody\").append('<tr><td>' + respuesta[i].titulo + '</td><td>' + respuesta[i].descripcion + '</td><td>' + respuesta[i].min + '</td><td>' + respuesta[i].max + '</td><td>' + campoTexto + '</td>' + '</tr>');\n                    }\n                    $(\"input:visible\").eq(0).trigger('focus');\n                }\n            });\n            /**\n             * @autor:godie007\n             * @date: 2017/04/15 00:10\n             * Se consulta el cuestionario relacionado a un area y se genera dinamicamente\n             * el formulario de preguntas\n             **/\n            $.ajax({\n                url: \"/account/grafica/cuestionario/\",\n                type: 'POST',\n                data: {\n                    'area': $(this).val()\n                },\n                error: function(respuesta) {\n                    console.log(respuesta);\n                },\n                success: function(r) {\n                    $(\"#formCuestionario div\").remove();\n                    for (var i = 0; i < r.ask.length; i++) {\n                        var form = '<form>';\n                        var Sform = '</form>';\n                        var div = '<div class=\"box\">';\n                        var Sdiv = '</div>';\n                        var label = '<label class=\"control-label\">' + r.ask[i].text + '</label>';\n                        var radio = '<div class=\"radio\">';\n                        var Slabel = '<label>';\n                        var labelA = r.ask[i].OA.length > 1 ? '<input type=\"radio\" class=\"radio' + i + '\" id=\"radio\" class=\"' + i + '\" value=\"A\" name=\"radio\"/>' + r.ask[i].OA + '</br>' : '';\n                        var labelB = r.ask[i].OB.length > 1 ? '<input type=\"radio\" class=\"radio' + i + '\" id=\"radio\" class=\"' + i + '\" value=\"B\" name=\"radio\"/>' + r.ask[i].OB + '</br>' : '';\n                        var labelC = r.ask[i].OC.length > 1 ? '<input type=\"radio\" class=\"radio' + i + '\" id=\"radio\" class=\"' + i + '\" value=\"C\" name=\"radio\"/>' + r.ask[i].OC + '</br>' : '';\n                        var labelD = r.ask[i].OD.length > 1 ? '<input type=\"radio\" class=\"radio' + i + '\" id=\"radio\" class=\"' + i + '\" value=\"D\" name=\"radio\"/>' + r.ask[i].OD + '</br>' : '';\n\n                        $(\"#formCuestionario\").append(div + label + form + radio + labelA + labelB + labelC + labelD + Sdiv + Sform + Slabel + Sdiv + Sdiv);\n                        $(\"#formCuestionario\").hide();\n\n                    }\n                }\n            });\n        }\n    });\n});\n/**\n * @autor:godie007\n * @date: 2017/04/13 14:06\n * Al momento de hacer click en el boton graficar se toma la informacion de los indicadores\n * y la informacion suministrada por el usuario para calcular cada arista de la grafica\n **/\nfunction generarGrafica() {\n    /**\n     * @autor:godie007\n     * @date: 2017/04/15 02:45\n     * Se realizan los calculos para determinar el area total de la grafica de radar\n     **/\n    var salida1 = [];\n    var salida2 = [];\n    for (var s = 0; s < data.length; s++) {\n        salida1.push(data[s].titulo);\n\n        var caluculo1 = Math.abs(parseInt(100 * (parseInt($(\"#ent\" + s).val()) - data[s].min) / (data[s].max - data[s].min))); // se hace el calculo del procentaje para cada areista de la grafica radial\n        salida2.push(caluculo1);\n    }\n    $.ajax({\n        url: \"/account/grafica/cuestionario/\",\n        type: 'POST',\n        data: {\n            'area': $(\"#area\").val()\n        },\n        error: function(respuesta) {\n            console.log(respuesta);\n        },\n        success: function(doc) {\n            var contador = 0;\n            for (var i = 0; i < doc.ask.length; i++) {\n                for (var d = 0; d < $(\"input[id^='radio']:checked\").length; d++) {\n                    var id = parseInt($(\"input[id^='radio']:checked\").eq(d).attr(\"class\").split(\"radio\")[1]);\n                    if (id == i) {\n                        var opcion = $(\"input[id^='radio']:checked\").eq(d).val();\n                        if (opcion === doc.ask[i].respuesta) {\n                            contador++;\n                        }\n                    }\n                }\n            }\n            var porcent = (contador * 100) / doc.ask.length;\n            salida1.push(\"Questionnaire\");\n            salida2.push(porcent);\n\n            var arreglo = salida2;\n            var areaActual = 0;\n            var angulo = 360 / arreglo.length;\n            for (var h = 0; h < arreglo.length; h++) {\n                var a = arreglo[h];\n                var b = arreglo[h + 1];\n                if (h < arreglo.length - 1) {\n                    a = arreglo[h];\n                    b = arreglo[h + 1];\n                } else {\n                    a = arreglo[h];\n                    b = arreglo[0];\n                }\n                var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2) - 2 * a * b * Math.cos(toRadians(angulo)));\n\n                var s1 = (a + b + c) / 2;\n                var area = Math.sqrt(s1 * (s1 - a) * (s1 - b) * (s1 - c));\n                areaActual += area;\n            }\n            $(\"#areaF\").text(\"Area Actual: \" + areaActual);\n\n            //area maxima para 21 indicadores 30949.293313144917\n\n            $.ajax({\n                url: \"/account/grafica/nivel/\",\n                type: 'POST',\n                error: function(respuesta) {\n                    console.log(respuesta);\n                },\n                success: function(doc) {\n                    var areaTotal = 30949.293313144917; // area total de 21 indicadores\n                    var p_total = 100 - Math.abs(((areaActual - areaTotal) / areaTotal) * 100);\n\n                    for (var i = 0; i < doc.ask.length; i++) {\n                        if (p_total >= doc.ask[i].min && p_total <= doc.ask[i].max) {\n                            $(\"#procentF\").text(\"Procentaje Actual: \" + p_total + \"%\");\n                            $(\"#nivelA\").text(\"La empresa esta en \" + doc.ask[i].nivel);\n                        }\n                    }\n                }\n            });\n\n            graficar(salida1, salida2);\n        }\n    });\n\n}\n/**\n * @autor:godie007\n * @date: 2017/04/13 14:16\n * Funcion para hacer el grafico de Radar en base a informacion dinamica que llega por parte de las configuracionesque haga el cliente\n **/\nfunction graficar(entrada, entrada2) {\n    Chart.defaults.global.legend.display = false;\n    Chart.defaults.global.defaultFontColor = 'rgba(34,34,34, 1)'; //color del texto\n\n    var chartRadarDOM = $('#chartRadar');\n    // configuracion de la grafica\n    var chartRadarData = {\n        labels: entrada,\n        datasets: [{\n            label: \"Grafica\",\n            backgroundColor: \"rgba(156,63,74,.5)\",\n            borderColor: \"rgba(9,138,1,.5)\",\n            pointBackgroundColor: \"rgba(156,63,74,1)\",\n            pointBorderColor: \"rgba(9,138,1,.5)\",\n            pointHoverBackgroundColor: \"rgba(9,138,1,.5)\",\n            pointHoverBorderColor: \"rgba(9,138,1,.5)\",\n            pointBorderWidth: 0.5,\n            data: entrada2\n        }]\n    };\n    var chartRadarOptions = {\n        scale: {\n            ticks: {\n                beginAtZero: true,\n                maxTicksLimit: 10\n            },\n            pointLabels: {\n                fontSize: 12\n            },\n            gridLines: {\n                color: '#999'\n            }\n        }\n\n    };\n    var chartRadar = new Chart(chartRadarDOM, {\n        type: 'radar',\n        data: chartRadarData,\n        options: chartRadarOptions\n    });\n}\n/**\n * @autor:godie007\n * @date: 2017/04/13 14:02\n * Funcion para limitar el los campos de texto a solo el rango que este configurado en la seccion de indicadores\n **/\nfunction minmax(value, min, max) {\n    if (parseInt(value) < min || isNaN(parseInt(value))) {\n        return min;\n    } else {\n\n        if (parseInt(value) > max) {\n            toastr.options = {\n                closeButton: true,\n                debug: false,\n                newestOnTop: false,\n                progressBar: true,\n                positionClass: \"toast-top-center\" || 'toast-top-right',\n                preventDuplicates: false,\n                timeOut: \"1000\",\n                onclick: function() {\n                    console.log(\"Toco el Mensaje\");\n                }\n            };\n            /**\n             * @autor:godie007\n             * @date: 2017/04/13 14:31\n             * Plugin para mostrar Notificación emergente de Advertenca\n             **/\n            toastr.warning(\"El valor deve estar en el intervalo [\" + min + \",\" + max + \"]\", \"Importante!\");\n            return max;\n        } else {\n            return value;\n        }\n    }\n\n}\n\nfunction toRadians(angle) {\n    return angle * (Math.PI / 180);\n}\n"]}